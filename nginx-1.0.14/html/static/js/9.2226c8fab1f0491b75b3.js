webpackJsonp([9],{AFka:function(t,a){},BBqV:function(t,a){},Mhpx:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("4YfN"),e=i.n(s),o=i("9rMa"),n=i("e+h3"),c=i("9yBd"),l=(n.a,c.a,e()({},Object(o.c)(["token"])),{data:function(){return{id:this.getUrlParam("id"),isCollect:!1,choseDex:0,infoNav:["商品介绍","规格参数","包装售后"],goodsDetailData:{intro:[],param:[],serve:[]},noIntro:!1,noParam:!1,noServe:!1}},components:{"v-title":n.a,"v-nodata":c.a},computed:e()({},Object(o.c)(["token"])),created:function(){var t=this.id;this.getGoodsDetailData(t),this.getIfCollect(t)},methods:{getGoodsDetailData:function(t){var a=this;this.$axios.get(this.api.getGoodsDetail,{params:{product_id:t}}).then(function(t){var i=t.data;if(1===i.code){var s=i.content,e=s.appPhotoMainUrls||[],o=s.listDetailMainBody||[],n=s.listDetailMainSale||[];0===e.length?a.noIntro=!0:a.goodsDetailData.intro=e,0==o.length?a.noParam=!0:a.goodsDetailData.param=o,0===n.length?a.noServe=!0:a.goodsDetailData.serve=n}else a.showTip("获取商品图文信息失败")}).catch(function(t){a.showTip("获取商品图文信息失败")})},getIfCollect:function(t){var a=this;this.$axios.get(this.api.ifGoodsCollect,{headers:{Authorization:this.token},params:{product_id:t}}).then(function(t){var i=t.data;1===i.code?a.isCollect=i.content:a.isCollect=!1})},collectAction:function(){var t=this;this.isCollect?this.$axios.get(this.api.removeCollect,{headers:{Authorization:this.token},params:{product_id:this.id}}).then(function(a){1===a.data.code?(t.showTip("取消收藏成功"),t.isCollect=!1):t.showTip("取消收藏失败")}).catch(function(a){t.showTip("取消收藏失败")}):this.$axios.get(this.api.addCollect,{headers:{Authorization:this.token},params:{product_id:this.id}}).then(function(a){1===a.data.code?(t.showTip("收藏成功"),t.isCollect=!0):t.showTip("收藏失败")}).catch(function(a){t.showTip("收藏失败")})},callHelp:function(){this.callService()},pageToBuy:function(t){wx.getStorageSync("userId")?wx.navigateTo({url:"/pages/buy/buy?id="+t}):wx.showModal({content:"您还没有绑定手机，无法进行下单和个人操作，建议您先绑定手机~",success:function(t){t.confirm&&wx.navigateTo({url:"/pages/bind/bind"})}})}}}),r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"wrapper white page-goodsinfo"},[i("div",{staticClass:"tab-nav white"},t._l(t.infoNav,function(a,s){return i("div",{key:s,staticClass:"item",class:{active:s===t.choseDex},on:{click:function(a){t.choseDex=s}}},[t._v("\n      "+t._s(a)+"\n    ")])}),0),t._v(" "),i("div",{staticClass:"tab-con"},[0===t.choseDex?i("div",{staticClass:"goods-intro"},[t._l(t.goodsDetailData.intro,function(t,a){return i("img",{key:a,staticClass:"img",attrs:{src:t}})}),t._v(" "),t.noIntro?i("v-nodata",{attrs:{text:"- 暂无数据 -"}}):t._e()],2):t._e(),t._v(" "),1===t.choseDex?i("div",{staticClass:"goods-param"},[t._l(t.goodsDetailData.param,function(a,s){return i("div",{key:s,staticClass:"item"},[i("span",{staticClass:"name"},[t._v(t._s(a.specName))]),t._v(" "),i("span",{staticClass:"value"},[t._v(t._s(a.specVal))])])}),t._v(" "),t.noParam?i("v-nodata",{attrs:{text:"- 暂无数据 -"}}):t._e()],2):t._e(),t._v(" "),2===t.choseDex?i("div",{staticClass:"goods-serve"},[t._l(t.goodsDetailData.serve,function(a,s){return i("div",{key:s,staticClass:"item"},[i("v-title",{attrs:{title:a.specName,level:"second"}}),t._v(" "),i("div",{staticClass:"intro"},[t._v(t._s(a.specVal))])],1)}),t._v(" "),t.noServe?i("v-nodata",{attrs:{text:"- 暂无数据 -"}}):t._e()],2):t._e()]),t._v(" "),i("div",{staticClass:"lay-action fix-btom pay-act-btom"},[i("div",{staticClass:"service"},[i("div",{staticClass:"item",on:{click:t.callHelp}},[i("i",{staticClass:"ico i-call"}),t._v(" "),i("p",{staticClass:"text"},[t._v("联系卖家")])]),t._v(" "),i("div",{staticClass:"item",on:{click:t.collectAction}},[i("i",{staticClass:"ico i-colet",class:{active:t.isCollect}}),t._v(" "),i("p",{staticClass:"text"},[t._v("收藏")])])]),t._v(" "),i("button",{staticClass:"btn-submit nordu",on:{click:function(a){t.pageToBuy(t.id)}}},[t._v("立即购买")])])])},staticRenderFns:[]};var d=i("C7Lr")(l,r,!1,function(t){i("BBqV")},null,null);a.default=d.exports},"e+h3":function(t,a,i){"use strict";String,String;var s={props:{level:{type:String,default:"first"},title:String}},e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"v-title",class:"v-title-"+t.level},[i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"dot"}),t._v(" "),i("span",{staticClass:"text"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"dot"}),t._v(" "),i("div",{staticClass:"line"})])},staticRenderFns:[]};var o=i("C7Lr")(s,e,!1,function(t){i("AFka")},null,null);a.a=o.exports}});
//# sourceMappingURL=9.2226c8fab1f0491b75b3.js.map