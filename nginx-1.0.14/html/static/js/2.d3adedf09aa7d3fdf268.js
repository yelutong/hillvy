webpackJsonp([2],{"8SYZ":function(t,a){},"8hXn":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s,n,i=e("4YfN"),o=e.n(i),l=e("a3Yh"),r=e.n(l),u=e("HzJ8"),c=e.n(u),p=e("IHPB"),d=e.n(p),h=e("9rMa"),v=e("UCGp"),g=e("9yBd"),f=e("XPr2"),m=e.n(f),w=e("wSez"),x=e("Gsn1"),b=e("XzeJ"),C=e("5CvF"),P=e("4rfY"),_=e("6iV/"),S=(s={components:{Button:w.Button},data:function(){return{urlPic:this.api.urlPic,totalPage:1,currentPage:0,listData:[],newListData:[],loadMoreVal:!0,pullup:!0,status:{pullupStatus:"default"},bannerSwipe:{speed:800,auto:3e3,showIndicators:!0,continuous:!0,link:"/goods",arrData:[]},vAreaList:[]}}},r()(s,"components",{"v-swiper":v.a,"v-nodata":g.a,Scroller:x.a,Spinner:b.a,Flexbox:C.a,FlexboxItem:P.a}),r()(s,"beforeCreate",function(){}),r()(s,"computed",o()({},Object(h.c)(["token","openId","userId"]))),r()(s,"created",function(){this.getBannerData(),this.getVdata(),this.loadMore()}),r()(s,"methods",o()({},Object(h.b)(["atnOpenId","atnToken","atnProUserId"]),{loadMore:function(){var t=this;this.loadMoreVal&&(this.loadMoreVal=!1,setTimeout(function(){t.loadMoreVal=!0},1e3),this.currentPage<this.totalPage?(this.currentPage=parseInt(this.currentPage)+1,this.$axios.post(this.api.getGoodsList,_.parse({page:this.currentPage,limit:8}),{headers:{"content-type":"application/json"}}).then(function(a){t.totalPage=a.data.content.totalPage,t.newListData=[].concat(d()(t.newListData),d()(a.data.content.list))}).catch(function(t){})):(this.pullup=!1,this.status.pullupStatus="complete",setTimeout(function(){t.status.pullupStatus="default",t.pullup=!1},1e3)),setTimeout(function(){t.$refs.scroller.donePullup()},10))},getBannerData:function(){var t=this;this.$axios.post(this.api.getBanners,_.parse({advertType:1,deviceType:1}),{headers:{"content-type":"application/json"}}).then(function(a){var e=a.data;if(console.log(e),1===e.code){var s=e.content;if(console.log(s),s.length>0){var n=[];s.forEach(function(a){var e={h5LinkUrl:a.h5LinkUrl||"",linkType:a.linkType||"",id:a.id||"",photoUrl:t.api.urlPic+a.photoUrl};n.push(e)}),console.log(n),t.bannerSwipe.arrData=n}}})},getVdata:function(){var t=this;this.$axios.get(this.api.getFloorList).then(function(a){var e=a.data;if(1===e.code&&e.content.length>0){var s=function(a){var e=a.goodsLst,s=a.paramsArray?JSON.parse(a.paramsArray):"",n={},i=[];e.length>=3&&e.map(function(t,a){a<=2&&i.push(t)}),s&&s.length>0?n.vGoods="/vGoods?"+s[0].key+"="+s[0].value:n.vGoods="/vGoods",n.vPic=t.urlPic+a.imgLogo,n.arrList=i,t.vAreaList.push(n)},n=!0,i=!1,o=void 0;try{for(var l,r=c()(e.content);!(n=(l=r.next()).done);n=!0){s(l.value)}}catch(t){i=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}console.log(t.vAreaList)}})}})),e("6iV/")),y=(n={components:{Button:w.Button},data:function(){return{urlPic:this.api.urlPic,totalPage:1,currentPage:0,listData:[],newListData:[],loadMoreVal:!0,pullup:!0,status:{pullupStatus:"default"},bannerSwipe:{speed:800,auto:3e3,showIndicators:!0,continuous:!0,link:"/goods",arrData:[]},vAreaList:[]}}},r()(n,"components",{"v-swiper":v.a,"v-nodata":g.a,Scroller:x.a,Spinner:b.a,Flexbox:C.a,FlexboxItem:P.a}),r()(n,"beforeCreate",function(){}),r()(n,"computed",o()({},Object(h.c)(["token","openId","userId"]))),r()(n,"created",function(){this.getBannerData(),this.getVdata(),this.loadMore()}),r()(n,"methods",o()({},Object(h.b)(["atnOpenId","atnToken","atnProUserId"]),{loadMore:function(){var t=this;this.loadMoreVal&&(this.loadMoreVal=!1,setTimeout(function(){t.loadMoreVal=!0},1e3),this.currentPage<this.totalPage?(this.currentPage=parseInt(this.currentPage)+1,this.$axios.post(this.api.getGoodsList,S.parse({page:this.currentPage,limit:8}),{headers:{"content-type":"application/json"}}).then(function(a){t.totalPage=a.data.content.totalPage,t.newListData=[].concat(d()(t.newListData),d()(a.data.content.list))}).catch(function(t){})):(this.pullup=!1,this.status.pullupStatus="complete",setTimeout(function(){t.status.pullupStatus="default",t.pullup=!1},1e3)),setTimeout(function(){t.$refs.scroller.donePullup()},10))},getBannerData:function(){var t=this;this.$axios.post(this.api.getBanners,S.parse({advertType:1,deviceType:1}),{headers:{"content-type":"application/json"}}).then(function(a){var e=a.data;if(console.log(e),1===e.code){var s=e.content;if(console.log(s),s.length>0){var n=[];s.forEach(function(a){var e={h5LinkUrl:a.h5LinkUrl||"",linkType:a.linkType||"",id:a.id||"",photoUrl:t.api.urlPic+a.photoUrl};n.push(e)}),console.log(n),t.bannerSwipe.arrData=n}}})},getVdata:function(){var t=this;this.$axios.get(this.api.getFloorList).then(function(a){var e=a.data;if(1===e.code&&e.content.length>0){var s=function(a){var e=a.goodsLst,s=a.paramsArray?JSON.parse(a.paramsArray):"",n={},i=[];e.length>=3&&e.map(function(t,a){a<=2&&i.push(t)}),s&&s.length>0?n.vGoods="/vGoods?"+s[0].key+"="+s[0].value:n.vGoods="/vGoods",n.vPic=t.urlPic+a.imgLogo,n.arrList=i,t.vAreaList.push(n)},n=!0,i=!1,o=void 0;try{for(var l,r=c()(e.content);!(n=(l=r.next()).done);n=!0){s(l.value)}}catch(t){i=!0,o=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw o}}console.log(t.vAreaList)}})}})),n),k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper page-index",attrs:{id:"indexRouter"}},[e("scroller",{ref:"scroller",attrs:{"lock-x":"","scrollbar-y":!1,height:"-60","use-pullup":""},on:{"on-scroll-bottom":t.loadMore,"on-pullup-loading":t.loadMore},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[e("div",[e("div",{staticClass:"head white"},[e("v-swiper",{attrs:{"swiper-data":t.bannerSwipe}})],1),t._v(" "),t.vAreaList?e("div",{staticClass:"pdt10 bg-gray1"},t._l(t.vAreaList,function(a){return e("div",{staticClass:"brand pd15 mb10"},[e("div",{staticClass:"vAreaContent pda15 bg-white"},[e("div",{staticClass:"vArea justify-content-space-between"},[e("span",[e("img",{attrs:{src:a.vPic}})]),t._v(" "),e("span",{staticClass:"fs-10 txt-right"},[e("router-link",{attrs:{to:a.vGoods}},[t._v("更多商品 》")])],1)]),t._v(" "),e("div",{staticClass:"brand-list"},t._l(a.arrList,function(a,s){return e("router-link",{key:s,staticClass:"item",attrs:{to:{path:"/goods",query:{id:a.id}}}},[e("p",{staticClass:"vPicClass"},[e("img",{staticClass:"img",attrs:{src:t.urlPic+a.goodsMainPhoto.split(",")[0]}})]),t._v(" "),e("p",{staticClass:"pdlr5 mt5",domProps:{textContent:t._s(a.goodsName)}}),t._v(" "),e("div",{staticClass:"center txt-orange fs-13 pdb10 mt5",domProps:{textContent:t._s("¥"+a.salePrice)}})])}),1)])])}),0):t._e(),t._v(" "),t.newListData?e("div",{staticClass:"newListData pd15 bg-white"},t._l(t.newListData,function(a,s){return e("router-link",{key:s,staticClass:"relative item pdtb15 justify-content-space-between",attrs:{to:{path:"/goods",query:{id:a.id}}}},[e("div",[e("img",{staticClass:"img",attrs:{src:t.urlPic+a.goodsMainPhoto.split(",")[0]}})]),t._v(" "),e("div",{staticClass:"flexg2 listRight"},[e("p",{staticClass:"goodsName txt-black-real",domProps:{textContent:t._s(a.goodsName)}}),t._v(" "),e("div",{staticClass:"rightBtm justify-content-space-between"},[e("div",[e("p",{staticClass:"fs-18 mb5 txt-orange",domProps:{textContent:t._s("¥"+a.salePrice)}}),t._v(" "),e("p",{staticClass:"txt-gray1 fs-10",domProps:{textContent:t._s("销量"+a.saleCount)}})]),t._v(" "),e("div",[e("mt-button",{staticClass:"goodsDetail",attrs:{size:"small",type:"primary"}},[t._v("立即抢购")])],1)])])])}),1):t._e()]),t._v(" "),e("div",{staticClass:"xs-plugin-pullup-container xs-plugin-pullup-up",staticStyle:{position:"absolute",width:"100%",height:"40px",bottom:"-40px","text-align":"center"},attrs:{slot:"pullup"},slot:"pullup"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"default"===t.status.pullupStatus,expression:"status.pullupStatus === 'default'"}]}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"down"===t.status.pullupStatus||"up"===t.status.pullupStatus,expression:"status.pullupStatus === 'down' || status.pullupStatus === 'up'"}],staticClass:"pullup-arrow",class:{rotate:"up"===t.status.pullupStatus}},[t._v("↑")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status.pullupStatus,expression:"status.pullupStatus === 'loading'"}]},[e("spinner",{attrs:{type:"ios-small"}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"complete"===t.status.pullupStatus,expression:"status.pullupStatus === 'complete'"}]},[t._v("已加载完成")])])])],1)},staticRenderFns:[]};var T=e("C7Lr")(y,k,!1,function(t){e("8SYZ")},null,null).exports,I=e("j108"),L=e("inDh"),D=e("Vi7w"),N=e("pHSk"),M=e("tIYF"),F=e("NlBh"),V=e("e+h3"),B=(e("6iV/"),M.a,F.a,I.a,L.a,D.a,N.a,x.a,b.a,V.a,C.a,P.a,e("6iV/")),$={props:["parentId"],data:function(){return{urlPic:this.api.urlPic,parentIds:this.parentId,totalPage:1,currentPage:0,listData:[],classId:0,loadMoreVal:!0,pullupEnabled:!0,status:{pullupStatus:"default"},swiperPic:m.a,list3:[],items:"",index3:0,bannerSwiper:{speed:800,auto:3e3,showIndicators:!0,continuous:!0,link:"/goods",arrData:[]},dailySwiper:{interval:3e3,duration:800,direction:"up",height:document.body.offsetWidth/7.5*.77,arrData:[]}}},components:{Grid:M.a,GridItem:F.a,Tab:I.a,TabItem:L.a,Swiper:D.a,SwiperItem:N.a,Scroller:x.a,Spinner:b.a,vTitle:V.a,Flexbox:C.a,FlexboxItem:P.a},beforeCreate:function(){},created:function(){this.getTab(this.parentId),this.loadMore(this.classId),console.log(this.parentId)},computed:{},watch:{parentId:function(t,a){console.log(t,a),this.getTab(t)}},methods:{getTab:function(t){var a=this;this.$axios.get(this.api.getChildsList+t).then(function(t){1===t.data.code&&(console.log(t.data),t.data.content.length>0&&(a.list3=t.data.content,a.items=t.data.content[0].className,a.classId=t.data.content[0].id,a.onTabsClick(t.data.content[0])))}).catch(function(t){})},loadMore:function(t){var a=this;this.loadMoreVal&&(this.loadMoreVal=!1,setTimeout(function(){a.loadMoreVal=!0},1e3),this.currentPage<this.totalPage?(this.currentPage=parseInt(this.currentPage)+1,this.$axios.post(this.api.getClassList,B.parse({goodsParentClassId:t,page:this.currentPage,limit:8}),{headers:{"content-type":"application/json"}}).then(function(t){console.log(t.data),a.totalPage=t.data.content.totalPage,a.listData=[].concat(d()(a.listData),d()(t.data.content.list)),console.log(a.listData)}).catch(function(t){})):(this.status.pullupStatus="complete",setTimeout(function(){a.status.pullupStatus="default"},1e3),console.log("已加载完")),setTimeout(function(){},10))},onTabsClick:function(t){this.items=t.className,console.log(this.items),this.listData=[],this.totalPage=1,this.currentPage=0,this.loadMore(t.id)},refresh:function(){var t=this;console.log("刷新"),this.$nextTick(function(){setTimeout(function(){t.$refs.scroller.donePulldown(),t.pullupEnabled&&t.$refs.scroller.enablePullup()},10)})},toDetail:function(t){console.log(21),this.$router.push({path:"/goods",query:{id:t}})}}},j={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper page-index",attrs:{id:"tabContent"}},[e("div",{staticClass:"white mgt10 pd10"},[e("scroller",{ref:"scroller",attrs:{"lock-x":"","scroll-bottom-offset":10,"scrollbar-y":!1,height:"-60","use-pullup":"","use-pulldown":""},on:{"on-scroll-bottom":t.loadMore,"on-pulldown-loading":t.refresh,"on-pullup-loading":t.loadMore},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[e("div",[e("div",{staticClass:"white"},[e("grid",{attrs:{cols:4,"show-lr-borders":!1}},t._l(t.list3,function(a,s){return e("grid-item",{key:s,staticClass:"vux-center",attrs:{label:a.className},on:{"on-item-click":function(e){t.onTabsClick(a)}},model:{value:s,callback:function(t){s=t},expression:"index3"}},[e("img",{attrs:{slot:"icon",src:t.swiperPic},slot:"icon"})])}),1)],1),t._v(" "),e("vTitle",{attrs:{title:t.items}}),t._v(" "),e("div",{staticClass:"box2 newListData pd10"},[e("flexbox",{attrs:{orient:"vertical"}},t._l(t.listData,function(a,s){return e("flexbox-item",{key:s},[e("div",{staticClass:"mgt10 justify-content-space-between",on:{click:function(e){t.toDetail(a.id)}}},[e("p",[e("img",{attrs:{src:t.urlPic+a.goodsMainPhoto.split(",")[0]}})]),t._v(" "),e("div",{staticClass:"flexg2 listRight"},[e("p",{staticClass:"goodsName txt-black2 fs-14",domProps:{textContent:t._s(a.goodsName)}}),t._v(" "),e("div",{staticClass:"rightBtm justify-content-space-between"},[e("div",[e("p",{staticClass:"fs-18 mb5 txt-orange bold",domProps:{textContent:t._s("¥"+a.salePrice)}}),t._v(" "),e("p",{staticClass:"txt-gray1 fs-10",domProps:{textContent:t._s("销量"+a.saleCount)}})]),t._v(" "),e("div",[e("mt-button",{staticClass:"goodsDetail",attrs:{size:"small",type:"primary"}},[t._v("立即抢购")])],1)])])])])}),1)],1)],1),t._v(" "),e("div",{staticClass:"xs-plugin-pullup-container xs-plugin-pullup-up",staticStyle:{position:"absolute",width:"100%",height:"40px",bottom:"-40px","text-align":"center"},attrs:{slot:"pullup"},slot:"pullup"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"default"===t.status.pullupStatus,expression:"status.pullupStatus === 'default'"}]}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"up"===t.status.pullupStatus,expression:"status.pullupStatus === 'up'"}],staticClass:"pullup-arrow",class:{rotate:"up"===t.status.pullupStatus}},[t._v("↑")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status.pullupStatus,expression:"status.pullupStatus === 'loading'"}]},[e("spinner",{attrs:{type:"ios-small"}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:"complete"===t.status.pullupStatus,expression:"status.pullupStatus === 'complete'"}]},[t._v("已加载完成")])])])],1)])},staticRenderFns:[]};var A,G,O=e("C7Lr")($,j,!1,function(t){e("SOWr")},null,null).exports,U=e("NH3f"),E=e("TFN1"),R=(A={"v-footer":U.a,"v-wechatshare":E.a,indexNew:T,tabContent:O,Tab:I.a,TabItem:L.a,Swiper:D.a,SwiperItem:N.a},r()(A,"tabContent",O),r()(A,"indexNew",T),o()({},Object(h.c)(["weChatInfo","weChatShare"])),{data:function(){return{listFun:[1,2,3,4,5,6],index:0,onTab:0,getBarWidth:function(){return"66px"}}},components:(G={"v-footer":U.a,"v-wechatshare":E.a,indexNew:T,tabContent:O,Tab:I.a,TabItem:L.a,Swiper:D.a,SwiperItem:N.a},r()(G,"tabContent",O),r()(G,"indexNew",T),G),beforeCreate:function(){document.title="新银众商"},created:function(){this.getAllClassTree(),this.getClassBylevel()},computed:o()({},Object(h.c)(["weChatInfo","weChatShare"])),methods:{onTabClick:function(t){this.onTab=t.id,console.log(this.onTab)},getClassBylevel:function(){var t=this;this.$axios.get(this.api.getClassBylevel+1).then(function(a){1===a.data.code&&(t.listFun=[],a.data.content.unshift({id:0,className:"商城首页"}),t.listFun=a.data.content),console.log(a.data)}).catch(function(t){})},getAllClassTree:function(){this.$axios.get(this.api.getClassTree).then(function(t){console.log(t.data)}).catch(function(t){})}}}),Y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper page-index",attrs:{id:"index21"}},[e("tab",{attrs:{"line-width":2,"custom-bar-width":t.getBarWidth,"scroll-threshold":1,animated:"{false}","active-color":"#FF4F00"},model:{value:t.index,callback:function(a){t.index=a},expression:"index"}},t._l(t.listFun,function(a,s){return e("tab-item",{key:s,staticClass:"vux-center",attrs:{selected:t.onTab===a.id},on:{"on-item-click":function(e){t.onTabClick(a)}}},[t._v(t._s(a.className))])}),1),t._v(" "),e("swiper",{attrs:{height:"100%","show-dots":!1},model:{value:t.index,callback:function(a){t.index=a},expression:"index"}},[0===t.onTab?e("indexNew"):e("tabContent",{attrs:{parentId:t.onTab}})],1),t._v(" "),e("v-footer",{attrs:{active:"index"}}),t._v(" "),e("v-wechatshare",{attrs:{friendShare:t.weChatShare}})],1)},staticRenderFns:[]};var q=e("C7Lr")(R,Y,!1,function(t){e("qDmw")},null,null);a.default=q.exports},AFka:function(t,a){},SOWr:function(t,a){},XPr2:function(t,a,e){t.exports=e.p+"static/img/banner@2x.429c93b.png"},"e+h3":function(t,a,e){"use strict";String,String;var s={props:{level:{type:String,default:"first"},title:String}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"v-title",class:"v-title-"+t.level},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"dot"}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"dot"}),t._v(" "),e("div",{staticClass:"line"})])},staticRenderFns:[]};var i=e("C7Lr")(s,n,!1,function(t){e("AFka")},null,null);a.a=i.exports},qDmw:function(t,a){}});
//# sourceMappingURL=2.d3adedf09aa7d3fdf268.js.map