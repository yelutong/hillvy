{"version":3,"sources":["webpack:///./src/views/store/goods.vue","webpack:///./src/views/store/goods.vue?b69f","webpack:///./src/views/store/goods.vue?bf15"],"names":["store_goods","vSwiper","vHeader","computed","mapState","methods","mapActions","getGoodsMainData","id","this","picSwipe","arrData","push","goodsMainData","photoUrl","urlPic","goodsImg","getUserData","_this2","$axios","get","api","headers","Authorization","token","then","res","resData","data","console","log","code","atnUserId","content","showTip","msg","catch","getWeixinData","_this3","post","wxShareSign","stringify_default","url","window","location","href","content-type","wakeWeiXin","objData","_this","link","userId","localStorage","getItem","indexOf","split","wx","config","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","hideMenuItems","menuList","onMenuShareTimeline","title","name","imgUrl","success","vue","cancel","onMenuShareAppMessage","desc","saleSpots","checkJsApi","goodsName","getUrlParam","description","monthSaleNum","salePrice","stock","speed","auto","showIndicators","continuous","components","v-swiper","beforeCreate","document","created","views_store_goods","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","swiper-data","domProps","textContent","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.fb21a661b2b2876724e9.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport vSwiper from \"@/components/v-swiper\";\r\nimport vCell from \"@/components/v-cell\";\r\nimport vNodata from \"@/components/v-nodata\";\r\nimport vImglist from \"@/components/v-imglist\";\r\nimport vHeader from \"@/components/v-header\";\r\n//const wx = require(\"weixin-js-sdk\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      urlPic:this.api.urlPic,\r\n      photoUrl:'',//分享图片\r\n      goodsMainData: {\r\n        goodsName: this.getUrlParam(\"goodsName\"),\r\n        goodsImg: this.getUrlParam(\"goodsImg\"),\r\n        description: this.getUrlParam(\"description\"),\r\n        monthSaleNum: this.getUrlParam(\"monthSaleNum\"),\r\n        salePrice: this.getUrlParam(\"salePrice\"),\r\n        stock: this.getUrlParam(\"stock\"),\r\n        id: this.getUrlParam(\"id\")\r\n      },\r\n      picSwipe: {\r\n        speed: 800,\r\n        auto: 3000,\r\n        showIndicators: true,\r\n        continuous: true,\r\n        link: \"\",\r\n        arrData: []\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    \"v-swiper\": vSwiper,\r\n    vHeader\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\", \"openId\", \"userId\"])\r\n  },\r\n  beforeCreate() {\r\n    document.title = \"商品详情\";\r\n  },\r\n  created() {\r\n    this.getGoodsMainData();\r\n    //this.getWeixinData();\r\n    //this.getUserData();\r\n  },\r\n  methods: {\r\n    ...mapActions([\"atnUserId\"]),\r\n    // 获取商品主体信息\r\n    getGoodsMainData(id) {\r\n      this.picSwipe.arrData.push({\r\n        id: this.goodsMainData.id,\r\n        photoUrl: this.urlPic+this.goodsMainData.goodsImg\r\n      });\r\n    },\r\n    getUserData(){    \r\n        this.$axios\r\n        .get(this.api.getUserData,{\r\n          headers: {\"Authorization\": this.token }\r\n         })\r\n        .then(res => {\r\n          const resData = res.data;\r\n          console.log(resData);\r\n          if (resData.code !== 1) {\r\n            if(resData.code !== 403){\r\n              this.showTip(resData.msg);\r\n            }\r\n            return;\r\n          }else{\r\n            this.atnUserId(resData.content.id);\r\n          }\r\n      \r\n        })\r\n        .catch(res => {\r\n          \r\n        }); \r\n      },\r\n    // 从后台拿到微信签名等数据\r\n      getWeixinData() {\r\n        this.$axios\r\n          .post(this.api.wxShareSign,\r\n           JSON.stringify({\r\n            'url': window.location.href\r\n           }),\r\n           {\r\n               headers: { \"content-type\": \"application/json\"}\r\n            })\r\n          .then(res => {\r\n            const resData = res.data;\r\n            if (resData.code !== 1 || !resData.content) {\r\n              this.showTip('获取微信分享参数失败');\r\n              return;\r\n            }\r\n            this.wakeWeiXin(resData.content);\r\n          })\r\n          .catch(res => {\r\n           // this.showTip('获取微信分享参数失败');\r\n          });\r\n      },\r\n      // 拿到数据后执行唤醒微信分享更改函数\r\n      wakeWeiXin(objData) {\r\n        const _this = this;\r\n        let link = '';\r\n        if(!_this.userId && localStorage.getItem(\"userId\")){\r\n          _this.atnUserId(localStorage.getItem(\"userId\"));\r\n        }\r\n        if(objData.url.indexOf('&proUserId=')<0){\r\n          if(_this.userId){\r\n            link = objData.url + '&proUserId=' + _this.userId;\r\n          }else{\r\n            link = objData.url;\r\n          }\r\n        }else{\r\n          if(_this.userId){\r\n            link = objData.url.split('&proUserId=')[0]+'&proUserId='+_this.userId;\r\n          }else{\r\n            link = objData.url.split('&proUserId=')[0];\r\n          }\r\n        }\r\n        console.log('link:'+link);\r\n        wx.config({\r\n          debug: false, \r\n          appId: objData.appId,\r\n          timestamp: objData.timestamp,\r\n          nonceStr: objData.nonceStr,\r\n          signature: objData.signature,\r\n          jsApiList: [\r\n            \"hideMenuItems\",\r\n            \"onMenuShareTimeline\",\r\n            \"onMenuShareAppMessage\"\r\n          ]\r\n        });\r\n        wx.ready(function () {\r\n          // 隐藏一些功能\r\n          wx.hideMenuItems({\r\n            menuList: [\r\n              \"menuItem:share:qq\",\r\n              \"menuItem:share:QZone\",\r\n              \"menuItem:share:weiboApp\",\r\n              \"menuItem:share:facebook\",\r\n              \"menuItem:originPage\",\r\n              \"menuItem:openWithQQBrowser\",\r\n              \"menuItem:openWithSafari\",\r\n              \"menuItem:share:email\"\r\n            ]\r\n          });\r\n          // 分享到朋友圈\r\n          wx.onMenuShareTimeline({\r\n            title: _this.goodsMainData.name,\r\n            link: link,\r\n            imgUrl: _this.photoUrl,\r\n            success: function () {\r\n              vue.showTip(\"分享成功\");\r\n            },\r\n            cancel: function () {\r\n              vue.showTip(\"取消分享\");\r\n            }\r\n          });\r\n          // 分享到朋友\r\n          wx.onMenuShareAppMessage({\r\n            title: _this.goodsMainData.name,\r\n            desc: _this.goodsMainData.saleSpots,\r\n            link: link,\r\n            imgUrl: _this.photoUrl,\r\n            success: function () {\r\n              vue.showTip(\"分享成功\");\r\n            },\r\n            cancel: function () {\r\n              vue.showTip(\"取消分享\");\r\n            }\r\n          });\r\n          // 检查微信接口是否调用成功\r\n          wx.checkJsApi({\r\n            jsApiList: [\r\n              \"hideMenuItems\",\r\n              \"onMenuShareTimeline\",\r\n              \"onMenuShareAppMessage\"\r\n            ],\r\n            success: function (res) {\r\n              console.log(\"微信接口调用成功\");\r\n            }\r\n          });\r\n        });\r\n      }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/store/goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper page-goods\"},[_c('vHeader',{attrs:{\"title\":\"商品详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"lay-swiper white\"},[_c('v-swiper',{attrs:{\"swiper-data\":_vm.picSwipe}})],1),_vm._v(\" \"),(_vm.goodsMainData)?_c('div',{staticClass:\"lay-goods white\"},[_c('div',{staticClass:\"gd-name mtb10 fs-15\",domProps:{\"textContent\":_vm._s(_vm.goodsMainData.goodsName)}}),_vm._v(\" \"),_c('div',{staticClass:\"price-weight pdtb15 vux-1px-b\"},[_c('div',[_c('span',{staticClass:\"price mr5 fs-16\",domProps:{\"textContent\":_vm._s('￥'+_vm.goodsMainData.salePrice)}})]),_vm._v(\" \"),_c('i',{staticClass:\"txt-gray1 fs-14\",domProps:{\"textContent\":_vm._s('月销'+_vm.goodsMainData.monthSaleNum)}})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"h40 white fs-16 mt10 vux-1px-b center\"},[_vm._v(\"商品描述\")]),_vm._v(\" \"),_c('div',{staticClass:\"pda15 white fs-14\",domProps:{\"textContent\":_vm._s(_vm.goodsMainData.description)}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6537d545\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/store/goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6537d545\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":50}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./goods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6537d545\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/store/goods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}