{"version":3,"sources":["webpack:///./src/views/mine/findPwd.vue","webpack:///./src/views/mine/findPwd.vue?0d85","webpack:///./src/views/mine/findPwd.vue?9707"],"names":["views_mine_findPwd","require","vHeader","computed","mapState","methods","mapActions","changeStatus","this","statusShow","typeSet","getCode","_this","phone","length","$axios","get","api","getFindPwdCode","then","res","resData","data","code","hasSend","showTip","countDownTime","msg","catch","_this2","fnCount","count","setTimeout","time","clearTimeout","findPwd","_this3","ajaxData","userName","password","pwd","smsCode","post","stringify_default","headers","content-type","console","log","loading","close","setUserIdBack","objData","_this4","atnUserId","encryptionId","atnWeChatInfo","name","nickName","avatar","wechatHeadImageUrl","Toast","iconClass","duration","$router","go","components","beforeCreate","document","title","created","body","classList","add","destroyed","remove","selectortype_template_index_0_src_views_mine_findPwd","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","rawName","value","expression","modifiers","trim","type","placeholder","maxlength","domProps","on","input","$event","target","composing","blur","$forceUpdate","_e","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.3f0a2fb9a2f9bd5aa316.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { Toast } from \"mint-ui\";\r\nimport vHeader from \"@/components/v-header\";\r\nconst qs = require(\"qs\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      pwd: \"\",\r\n      code: '',\r\n      time: 60,\r\n      hasSend: false,\r\n      typeSet: 'password',\r\n      statusShow: true\r\n    };\r\n  },\r\n  components: {\r\n   vHeader\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\", \"userId\", \"parentId\"])\r\n  },\r\n  beforeCreate() {\r\n    document.title = \"找回密码\";\r\n  },\r\n  created() {\r\n    document.body.classList.add('bg-white');\r\n  },\r\n  destroyed(){\r\n    document.body.classList.remove('bg-white');\r\n  },\r\n  methods: {\r\n    ...mapActions([\"atnUserId\", \"atnWeChatInfo\"]),\r\n    //改变密码显示\r\n    changeStatus(){\r\n      if(this.statusShow){\r\n        this.statusShow = false;\r\n        this.typeSet = 'text';\r\n      }else{\r\n        this.statusShow = true;\r\n        this.typeSet = 'password';\r\n      }\r\n    },\r\n    // 获取验证码\r\n    getCode() {\r\n      if (this.phone.length !== 11) {\r\n        this.showTip(\"手机号码格式不正确\");\r\n        return;\r\n      }\r\n      this.$axios\r\n        .get(this.api.getFindPwdCode+this.phone)\r\n        .then(res => {\r\n          const resData = res.data;\r\n          if (resData.code != 1) {\r\n            this.showTip(resData.msg);\r\n            return;\r\n          }\r\n          // 成功之后改变颜色，60秒后可再次发送\r\n          this.hasSend = true;\r\n          this.showTip(\"验证码已发送到您的手机，请注意查收\");\r\n          this.countDownTime();\r\n        })\r\n        .catch(res => {\r\n          this.showTip(\"获取验证码失败，请稍后重试\");\r\n        });\r\n    },\r\n    // 验证码倒计时\r\n    countDownTime() {\r\n      let fnCount = () => {\r\n        let count = setTimeout(() => {\r\n          if (this.time <= 0) {\r\n            clearTimeout(count);\r\n            this.hasSend = false;\r\n            this.time = 60;\r\n          } else {\r\n            this.time -= 1;\r\n            fnCount();\r\n          }\r\n        }, 1000);\r\n      };\r\n      fnCount();\r\n    },\r\n    // 注册绑定手机号\r\n    findPwd() {\r\n      if (this.phone.length !== 11) {\r\n        this.showTip(\"手机号码格式不正确\");\r\n        return;\r\n      }\r\n      if (this.code === \"\") {\r\n        this.showTip(\"请输入验证码\");\r\n        return;\r\n      }\r\n      const ajaxData = {\r\n        userName: this.phone,\r\n        password: this.pwd,\r\n        smsCode: this.code\r\n      };\r\n      this.$axios\r\n        .post(this.api.findPwd, JSON.stringify(ajaxData), {\r\n          headers: {\"content-type\": \"application/json\"}\r\n        })\r\n        .then(res => {\r\n          const resData = res.data;\r\n          if (resData.code !== 1) {\r\n            this.showTip(resData.msg);\r\n            return;\r\n          }\r\n          console.log(resData);\r\n        })\r\n        .catch(res => {\r\n          loading.close();\r\n          this.showTip(\"找回密码失败，请稍后重试\");\r\n      });\r\n    },\r\n    // 存储userId和微信信息后返回\r\n    setUserIdBack(objData) {\r\n      this.atnUserId(objData.encryptionId);\r\n      this.atnWeChatInfo({\r\n        name: objData.nickName,\r\n        avatar: objData.wechatHeadImageUrl\r\n      });\r\n      const bindOk = Toast({\r\n        msg: \"绑定成功！\",\r\n        iconClass: \"ok\",\r\n        duration: 2000\r\n      });\r\n      setTimeout(() => {\r\n        this.$router.go(-1);\r\n      }, 2600);\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/mine/findPwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper white page-bind\"},[_c('vHeader',{attrs:{\"title\":\"找回密码\"}}),_vm._v(\" \"),_c('div',{staticClass:\"item-bind\"},[_c('i',{staticClass:\"ico i-person\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phone),expression:\"phone\",modifiers:{\"trim\":true}}],staticClass:\"ipt\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入手机号\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"item-bind\"},[_c('i',{staticClass:\"ico i-ver\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.code),expression:\"code\",modifiers:{\"trim\":true}}],staticClass:\"ipt\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),(!_vm.hasSend)?_c('button',{staticClass:\"btn-submit btn-code\",on:{\"click\":_vm.getCode}},[_vm._v(\"获取验证码\")]):_vm._e(),_vm._v(\" \"),(_vm.hasSend)?_c('div',{staticClass:\"cut-time\"},[_vm._v(\"剩余 \"+_vm._s(_vm.time)+\" s\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"item-bind\"},[_c('i',{staticClass:\"ico i-lock\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.pwd),expression:\"pwd\",modifiers:{\"trim\":true}}],staticClass:\"ipt\",attrs:{\"type\":_vm.typeSet,\"placeholder\":\"重新设置登录密码\",\"maxlength\":\"20\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),(_vm.statusShow)?_c('span',{staticClass:\"pwd_eyes close\",on:{\"click\":_vm.changeStatus}}):_c('span',{staticClass:\"pwd_eyes\",on:{\"click\":_vm.changeStatus}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn-submit btn-bind\",on:{\"click\":_vm.findPwd}},[_vm._v(\"确 定\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-80ff3aa6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/mine/findPwd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-80ff3aa6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":50}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./findPwd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./findPwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./findPwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-80ff3aa6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./findPwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mine/findPwd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}