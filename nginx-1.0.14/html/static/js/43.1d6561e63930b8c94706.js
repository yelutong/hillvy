webpackJsonp([43],{KNjh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("3cXf"),i=a.n(s),r=a("4YfN"),o=a.n(r),n=a("DeJQ"),c=a("9rMa"),l=a("wSez"),d=(n.a,o()({},Object(c.c)(["token"])),{data:function(){return{type:this.getUrlParam("type"),id:this.getUrlParam("id"),status:this.getUrlParam("status"),serveDetail:null}},components:{"v-tagcon":n.a},computed:o()({},Object(c.c)(["token"])),beforeCreate:function(){document.title="订单详情"},created:function(){this.getServeDetail()},methods:{getServeDetail:function(){var t=this;this.$axios.get("senior"===this.type?this.api.getSeniorDetail:this.api.getJuniorDetail,{headers:{Authorization:this.token},params:{order_id:this.id}}).then(function(e){var a=e.data;if(1===a.code){var s=a.content;s.createDate=s.createDate?t.dateFormat(s.createDate,"YYYY-MM-DD hh:mm:ss"):"暂无",s.sendDate=s.logisticsSendDate?t.dateFormat(s.logisticsSendDate,"YYYY-MM-DD hh:mm:ss"):"暂无",t.serveDetail=s}else t.showTip(a.message)}).catch(function(e){t.showTip("获取服务订单失败，请返回重试")})},orderToPlat:function(){var t=this;if(this.serveDetail){var e=Object(l.Toast)({message:"转单中...",iconClass:"loading",duration:1e4});this.$axios.get("senior"===this.type?this.api.seniorToPlat:this.api.juniorToPlat,{headers:{Authorization:this.token},params:{order_id:this.id}}).then(function(a){e.close();var s=a.data;1===s.code?(t.showTip("转单成功！",2e3,"ok"),setTimeout(function(){t.$router.go(-1)},2e3)):t.showTip(s.message)}).catch(function(a){e.close(),t.showTip("转单失败，请重试")})}else this.showTip("未获取到订单信息，暂不能操作")},pageToGrant:function(t){var e=this,a=this.serveDetail;a?(window.localStorage.setItem("serveOrderInfo",i()({orderId:a.orderId,orderNo:a.orderNo,orderAddress:a.shipAddress})),setTimeout(function(){e.$router.push("senior"===e.type?"/mine/seniorgrant":"/mine/juniorgrant")},0)):this.showTip("未获取到订单信息，暂不能操作")}}}),v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper page-servedetail"},[t.serveDetail?a("div",{staticClass:"lay-detail"},[a("v-tagcon",{attrs:{title:"订单号",con:t.serveDetail.orderNo}}),t._v(" "),t._l(t.serveDetail.orderServiceDetailProducts,function(e,s){return a("div",{key:s,staticClass:"group"},[a("v-tagcon",{attrs:{title:"商品名称",con:e.productName}}),t._v(" "),a("v-tagcon",{attrs:{title:"数量",con:e.countDesc}})],1)}),t._v(" "),a("v-tagcon",{attrs:{title:"总价",con:"￥"+t.serveDetail.orderTotalAmount,nobdr:!0,mb:!0}}),t._v(" "),a("v-tagcon",{attrs:{title:"姓名",con:t.serveDetail.shipName}}),t._v(" "),a("v-tagcon",{attrs:{title:"电话",con:t.serveDetail.shipMobile}}),t._v(" "),a("v-tagcon",{attrs:{title:"地址",con:t.serveDetail.shipAddress,more:!0}}),t._v(" "),"hassend"===t.status?a("v-tagcon",{attrs:{title:"下单时间",con:t.serveDetail.createDate}}):t._e(),t._v(" "),"nosend"===t.status?a("v-tagcon",{attrs:{title:"下单时间",con:t.serveDetail.createDate,nobdr:!0,mb:!0}}):t._e(),t._v(" "),"hassend"===t.status?a("v-tagcon",{attrs:{title:"发货时间",con:t.serveDetail.sendDate,nobdr:!0,mb:!0}}):t._e(),t._v(" "),a("v-tagcon",{attrs:{title:"备注",con:t.serveDetail.orderRemark,nobdr:!0,more:!0,mb:!0}})],2):t._e(),t._v(" "),"nosend"===t.status?a("div",{staticClass:"lay-action"},[a("button",{staticClass:"btn-submit",on:{click:t.pageToGrant}},[t._v(t._s("senior"===t.type?"分 配":"接 单"))]),t._v(" "),a("button",{staticClass:"btn-submit grey",on:{click:t.orderToPlat}},[t._v("转 单")])]):t._e()])},staticRenderFns:[]};var u=a("C7Lr")(d,v,!1,function(t){a("R/MR")},null,null);e.default=u.exports},"R/MR":function(t,e){}});
//# sourceMappingURL=43.1d6561e63930b8c94706.js.map