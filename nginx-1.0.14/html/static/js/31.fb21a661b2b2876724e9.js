webpackJsonp([31],{r9vs:function(e,t){},vmk3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("3cXf"),i=s.n(a),n=s("4YfN"),o=s.n(n),r=s("9rMa"),c=s("UCGp"),u=(s("kEOb"),s("9yBd"),s("0tvt"),s("UzLt")),d=(c.a,u.a,o()({},Object(r.c)(["token","openId","userId"])),o()({},Object(r.b)(["atnUserId"]),{getGoodsMainData:function(e){this.picSwipe.arrData.push({id:this.goodsMainData.id,photoUrl:this.urlPic+this.goodsMainData.goodsImg})},getUserData:function(){var e=this;this.$axios.get(this.api.getUserData,{headers:{Authorization:this.token}}).then(function(t){var s=t.data;console.log(s),1===s.code?e.atnUserId(s.content.id):403!==s.code&&e.showTip(s.msg)}).catch(function(e){})},getWeixinData:function(){var e=this;this.$axios.post(this.api.wxShareSign,i()({url:window.location.href}),{headers:{"content-type":"application/json"}}).then(function(t){var s=t.data;1===s.code&&s.content?e.wakeWeiXin(s.content):e.showTip("获取微信分享参数失败")}).catch(function(e){})},wakeWeiXin:function(e){var t=this,s="";!t.userId&&localStorage.getItem("userId")&&t.atnUserId(localStorage.getItem("userId")),s=e.url.indexOf("&proUserId=")<0?t.userId?e.url+"&proUserId="+t.userId:e.url:t.userId?e.url.split("&proUserId=")[0]+"&proUserId="+t.userId:e.url.split("&proUserId=")[0],console.log("link:"+s),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["hideMenuItems","onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:QZone","menuItem:share:weiboApp","menuItem:share:facebook","menuItem:originPage","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email"]}),wx.onMenuShareTimeline({title:t.goodsMainData.name,link:s,imgUrl:t.photoUrl,success:function(){vue.showTip("分享成功")},cancel:function(){vue.showTip("取消分享")}}),wx.onMenuShareAppMessage({title:t.goodsMainData.name,desc:t.goodsMainData.saleSpots,link:s,imgUrl:t.photoUrl,success:function(){vue.showTip("分享成功")},cancel:function(){vue.showTip("取消分享")}}),wx.checkJsApi({jsApiList:["hideMenuItems","onMenuShareTimeline","onMenuShareAppMessage"],success:function(e){console.log("微信接口调用成功")}})})}}),{data:function(){return{urlPic:this.api.urlPic,photoUrl:"",goodsMainData:{goodsName:this.getUrlParam("goodsName"),goodsImg:this.getUrlParam("goodsImg"),description:this.getUrlParam("description"),monthSaleNum:this.getUrlParam("monthSaleNum"),salePrice:this.getUrlParam("salePrice"),stock:this.getUrlParam("stock"),id:this.getUrlParam("id")},picSwipe:{speed:800,auto:3e3,showIndicators:!0,continuous:!0,link:"",arrData:[]}}},components:{"v-swiper":c.a,vHeader:u.a},computed:o()({},Object(r.c)(["token","openId","userId"])),beforeCreate:function(){document.title="商品详情"},created:function(){this.getGoodsMainData()},methods:o()({},Object(r.b)(["atnUserId"]),{getGoodsMainData:function(e){this.picSwipe.arrData.push({id:this.goodsMainData.id,photoUrl:this.urlPic+this.goodsMainData.goodsImg})},getUserData:function(){var e=this;this.$axios.get(this.api.getUserData,{headers:{Authorization:this.token}}).then(function(t){var s=t.data;console.log(s),1===s.code?e.atnUserId(s.content.id):403!==s.code&&e.showTip(s.msg)}).catch(function(e){})},getWeixinData:function(){var e=this;this.$axios.post(this.api.wxShareSign,i()({url:window.location.href}),{headers:{"content-type":"application/json"}}).then(function(t){var s=t.data;1===s.code&&s.content?e.wakeWeiXin(s.content):e.showTip("获取微信分享参数失败")}).catch(function(e){})},wakeWeiXin:function(e){var t=this,s="";!t.userId&&localStorage.getItem("userId")&&t.atnUserId(localStorage.getItem("userId")),s=e.url.indexOf("&proUserId=")<0?t.userId?e.url+"&proUserId="+t.userId:e.url:t.userId?e.url.split("&proUserId=")[0]+"&proUserId="+t.userId:e.url.split("&proUserId=")[0],console.log("link:"+s),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["hideMenuItems","onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:qq","menuItem:share:QZone","menuItem:share:weiboApp","menuItem:share:facebook","menuItem:originPage","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email"]}),wx.onMenuShareTimeline({title:t.goodsMainData.name,link:s,imgUrl:t.photoUrl,success:function(){vue.showTip("分享成功")},cancel:function(){vue.showTip("取消分享")}}),wx.onMenuShareAppMessage({title:t.goodsMainData.name,desc:t.goodsMainData.saleSpots,link:s,imgUrl:t.photoUrl,success:function(){vue.showTip("分享成功")},cancel:function(){vue.showTip("取消分享")}}),wx.checkJsApi({jsApiList:["hideMenuItems","onMenuShareTimeline","onMenuShareAppMessage"],success:function(e){console.log("微信接口调用成功")}})})}})}),p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper page-goods"},[s("vHeader",{attrs:{title:"商品详情"}}),e._v(" "),s("div",{staticClass:"lay-swiper white"},[s("v-swiper",{attrs:{"swiper-data":e.picSwipe}})],1),e._v(" "),e.goodsMainData?s("div",{staticClass:"lay-goods white"},[s("div",{staticClass:"gd-name mtb10 fs-15",domProps:{textContent:e._s(e.goodsMainData.goodsName)}}),e._v(" "),s("div",{staticClass:"price-weight pdtb15 vux-1px-b"},[s("div",[s("span",{staticClass:"price mr5 fs-16",domProps:{textContent:e._s("￥"+e.goodsMainData.salePrice)}})]),e._v(" "),s("i",{staticClass:"txt-gray1 fs-14",domProps:{textContent:e._s("月销"+e.goodsMainData.monthSaleNum)}})])]):e._e(),e._v(" "),s("div",{staticClass:"h40 white fs-16 mt10 vux-1px-b center"},[e._v("商品描述")]),e._v(" "),s("div",{staticClass:"pda15 white fs-14",domProps:{textContent:e._s(e.goodsMainData.description)}})],1)},staticRenderFns:[]};var h=s("C7Lr")(d,p,!1,function(e){s("r9vs")},null,null);t.default=h.exports}});
//# sourceMappingURL=31.fb21a661b2b2876724e9.js.map