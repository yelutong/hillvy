{"version":3,"sources":["webpack:///./src/views/mine/servedetail.vue","webpack:///./src/views/mine/servedetail.vue?9e10","webpack:///./src/views/mine/servedetail.vue?f41a"],"names":["mine_servedetail","vTagcon","computed","mapState","data","type","this","getUrlParam","id","status","serveDetail","components","v-tagcon","beforeCreate","document","title","created","getServeDetail","methods","_this","$axios","get","api","getSeniorDetail","getJuniorDetail","headers","Authorization","token","params","order_id","then","res","resData","code","objData","content","createDate","dateFormat","sendDate","logisticsSendDate","showTip","message","catch","orderToPlat","_this2","loading","Toast","iconClass","duration","seniorToPlat","juniorToPlat","close","setTimeout","$router","go","pageToGrant","item","_this3","window","localStorage","setItem","stringify_default","orderId","orderNo","orderAddress","shipAddress","push","views_mine_servedetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","con","_v","_l","index","key","productName","countDesc","orderTotalAmount","nobdr","mb","shipName","shipMobile","more","_e","orderRemark","on","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.1d6561e63930b8c94706.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport vTagcon from \"@/components/v-tagcon\";\nimport {\n  mapState\n} from \"vuex\";\nimport {\n  Toast\n} from \"mint-ui\";\nexport default {\n  data() {\n    return {\n      type: this.getUrlParam('type'),\n      id: this.getUrlParam('id'),\n      status: this.getUrlParam('status'),\n      serveDetail: null\n    };\n  },\n  components: {\n    \"v-tagcon\": vTagcon\n  },\n  computed: {\n    ...mapState([\"token\"])\n  },\n  beforeCreate() {\n    document.title = \"订单详情\";\n  },\n  created() {\n    // 获取服务订单明细\n    this.getServeDetail();\n  },\n  methods: {\n    // 获取服务订单详情\n    getServeDetail() {\n      this.$axios.get(this.type === 'senior' ? this.api.getSeniorDetail : this.api.getJuniorDetail, {\n        headers: {\n          \"Authorization\": this.token\n        },\n        params: {\n          order_id: this.id\n        }\n      }).then(res => {\n        const resData = res.data;\n        if (resData.code !== 1) {\n          this.showTip(resData.message);\n          return;\n        }\n        // 成功后改造下时间\n        const objData = resData.content;\n        objData.createDate = objData.createDate ? this.dateFormat(objData.createDate, 'YYYY-MM-DD hh:mm:ss') :\n          '暂无';\n        objData.sendDate = objData.logisticsSendDate ? this.dateFormat(objData.logisticsSendDate,\n            'YYYY-MM-DD hh:mm:ss') :\n          '暂无';\n        this.serveDetail = objData;\n      }).catch(res => {\n        this.showTip(\"获取服务订单失败，请返回重试\");\n      });\n    },\n    // 转单给平台\n    orderToPlat() {\n      if (!this.serveDetail) {\n        this.showTip('未获取到订单信息，暂不能操作');\n        return;\n      };\n      const loading = Toast({\n        message: \"转单中...\",\n        iconClass: \"loading\",\n        duration: 10000\n      });\n      this.$axios.get(this.type === 'senior' ? this.api.seniorToPlat : this.api.juniorToPlat, {\n        headers: {\n          \"Authorization\": this.token\n        },\n        params: {\n          order_id: this.id\n        }\n      }).then(res => {\n        loading.close();\n        const resData = res.data;\n        if (resData.code !== 1) {\n          this.showTip(resData.message);\n          return;\n        }\n        // 成功后返回\n        this.showTip('转单成功！', 2000, 'ok');\n        setTimeout(() => {\n          this.$router.go(-1);\n        }, 2000);\n      }).catch(res => {\n        loading.close();\n        this.showTip(\"转单失败，请重试\");\n      });\n    },\n    // 跳转到分配||接单发货\n    pageToGrant(item) {\n      const serveDetail = this.serveDetail;\n      let url = '';\n      if (!serveDetail) {\n        this.showTip('未获取到订单信息，暂不能操作');\n        return;\n      };\n      window.localStorage.setItem('serveOrderInfo', JSON.stringify({\n        'orderId': serveDetail.orderId,\n        'orderNo': serveDetail.orderNo,\n        'orderAddress': serveDetail.shipAddress\n      }));\n      setTimeout(() => {\n        this.$router.push(this.type === 'senior' ? '/mine/seniorgrant' :\n          '/mine/juniorgrant')\n      }, 0);\n    }\n  }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/mine/servedetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper page-servedetail\"},[(!!_vm.serveDetail)?_c('div',{staticClass:\"lay-detail\"},[_c('v-tagcon',{attrs:{\"title\":\"订单号\",\"con\":_vm.serveDetail.orderNo}}),_vm._v(\" \"),_vm._l((_vm.serveDetail.orderServiceDetailProducts),function(item,index){return _c('div',{key:index,staticClass:\"group\"},[_c('v-tagcon',{attrs:{\"title\":\"商品名称\",\"con\":item.productName}}),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"数量\",\"con\":item.countDesc}})],1)}),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"总价\",\"con\":'￥'+_vm.serveDetail.orderTotalAmount,\"nobdr\":true,\"mb\":true}}),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"姓名\",\"con\":_vm.serveDetail.shipName}}),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"电话\",\"con\":_vm.serveDetail.shipMobile}}),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"地址\",\"con\":_vm.serveDetail.shipAddress,\"more\":true}}),_vm._v(\" \"),(_vm.status === 'hassend')?_c('v-tagcon',{attrs:{\"title\":\"下单时间\",\"con\":_vm.serveDetail.createDate}}):_vm._e(),_vm._v(\" \"),(_vm.status === 'nosend')?_c('v-tagcon',{attrs:{\"title\":\"下单时间\",\"con\":_vm.serveDetail.createDate,\"nobdr\":true,\"mb\":true}}):_vm._e(),_vm._v(\" \"),(_vm.status === 'hassend')?_c('v-tagcon',{attrs:{\"title\":\"发货时间\",\"con\":_vm.serveDetail.sendDate,\"nobdr\":true,\"mb\":true}}):_vm._e(),_vm._v(\" \"),_c('v-tagcon',{attrs:{\"title\":\"备注\",\"con\":_vm.serveDetail.orderRemark,\"nobdr\":true,\"more\":true,\"mb\":true}})],2):_vm._e(),_vm._v(\" \"),(_vm.status === 'nosend')?_c('div',{staticClass:\"lay-action\"},[_c('button',{staticClass:\"btn-submit\",on:{\"click\":_vm.pageToGrant}},[_vm._v(_vm._s(_vm.type ==='senior' ? '分 配' : '接 单'))]),_vm._v(\" \"),_c('button',{staticClass:\"btn-submit grey\",on:{\"click\":_vm.orderToPlat}},[_vm._v(\"转 单\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1df90760\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/mine/servedetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1df90760\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":50}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./servedetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./servedetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./servedetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1df90760\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./servedetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/mine/servedetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}