{"version":3,"sources":["webpack:///./src/views/goods/orders.vue","webpack:///./src/views/goods/orders.vue?e76b","webpack:///./src/views/goods/orders.vue?7f55"],"names":["goods_orders","require","vNodata","vHeader","vFooter","computed","mapState","data","totalPage","currentPage","status","this","getUrlParam","choseDex","orderNav","title","orderList","ordersPageNo","ordersPageSize","moreOrders","noOrders","loading","components","v-nodata","v-footer","beforeCreate","document","created","verToken","clearData","getOrdersList","methods","token","showTip","$router","push","path","pageToDtail","orderNo","getStatusTxt","text","getArrImg","arr","_this","forEach","val","goodsPhoto","api","urlPic","split","tabOrderStatus","item","index","console","log","loadMore","first","_this2","$axios","post","payOrderList","stringify_default","JSON","parse","page","limit","headers","content-type","Authorization","then","res","resData","code","objData","content","arrData","list","currPage","length","obj","date","addTime","num","goodsCount","items","statusNum","storeName","storeId","totalPrice","deductedPrice","conList","orderNumberStr","pageCount","catch","count","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","err","return","pageToCenter","type","index2","_this3","objType","tip","key","url","sessionStorage","setItem","getItem","setTimeout","receiptOrder","_this4","MessageBox","message","showCancelButton","action","get","receptGoods","splice","cancelOrder","orderNumber","_this5","onPayOrder","_this6","Toast","iconClass","duration","payOrder","channel","orderNumbers","payType","close","weiXinArg","appId","appid","timeStamp","timestamp","nonceStr","package","packages","signType","paySign","weiXinPay","vue","onBridgeReady","WeixinJSBridge","invoke","err_msg","addEventListener","attachEvent","pageToPay","payPrice","refundOrder","orderId","_this7","callService","callHelp","views_goods_orders","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","class","active","on","click","$event","_s","directives","name","rawName","expression","infinite-scroll-disabled","infinite-scroll-distance","_m","_e","con","src","domProps","textContent","goodsName","isComment","stopPropagation","bgcolor","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/35.81a91ea8a9e7ec338218.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState } from \"vuex\";\r\nimport { MessageBox, Toast, InfiniteScroll } from \"mint-ui\";\r\nimport vNodata from \"@/components/v-nodata\";\r\nimport vHeader from \"@/components/v-header\";\r\nimport vFooter from \"@/components/v-footer\";\r\nconst qs = require(\"qs\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      totalPage: 1,\r\n      currentPage: 0,\r\n      //status: [10],\r\n      status: this.getUrlParam(\"status\"),\r\n      choseDex: this.getUrlParam(\"choseDex\")||null,\r\n      orderNav: [\r\n        {\r\n          title: \"全部\",\r\n          status: [10,20,30,40,50]\r\n        },\r\n        {\r\n          title: \"待付款\",\r\n          status: [10]\r\n        },\r\n        {\r\n          title: \"待发货\",\r\n          status: [20]\r\n        },\r\n        {\r\n          title: \"待收货\",\r\n          status: [30]\r\n        },\r\n        {\r\n          title: \"已完成\",\r\n          status: [40,50]\r\n        }\r\n      ],\r\n      orderList: [],\r\n      ordersPageNo: 1,\r\n      ordersPageSize: 10,\r\n      moreOrders: false,\r\n      noOrders: false,\r\n      loading: true\r\n    };\r\n  },\r\n  components: {\r\n    \"v-nodata\": vNodata,\r\n    vHeader,\r\n    \"v-footer\": vFooter\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"])\r\n  },\r\n  beforeCreate() {\r\n    document.title = \"我的订单\";\r\n  },\r\n  created() {\r\n    this.verToken();\r\n    // 读取订单状态\r\n    this.clearData();\r\n    this.getOrdersList();\r\n  },\r\n  methods: { \r\n    verToken(){\r\n     if(!this.token){\r\n      this.showTip(\"登录超时，请重新登录\");\r\n      this.$router.push({path: \"/mine/login\"});\r\n     }\r\n    },\r\n    pageToDtail(orderNo,status){\r\n      this.$router.push('/goods/orderDetail?orderNo='+orderNo+'&status='+status);\r\n    },\r\n    // 清空状态函数（本来想做成5组翻页数据的，但是考虑时间紧迫，就简化成切换从头加载吧）\r\n    clearData() {\r\n      this.currentPage = 0;\r\n      this.totalPage = 1;\r\n      this.noOrders = false;\r\n      this.loading = true;\r\n      this.orderList = [];\r\n    },\r\n    // 获取状态文字（想把数据整合进数组，就没用计算属性了）\r\n    getStatusTxt(choseDex) {\r\n      let text = \"\";\r\n      switch (choseDex) {\r\n        case 10:\r\n          text = \"等待买家付款\";\r\n          break;\r\n        case 20:\r\n          text = \"买家已付款\";\r\n          break;\r\n        case 30:\r\n          text = \"商家已发货\";\r\n          break;\r\n        case 40:\r\n          text = \"交易成功\";\r\n          break;\r\n        case 50:\r\n          text = \"交易成功\";\r\n          break;\r\n      }\r\n      return text;\r\n    },\r\n    // 获取图片的数组\r\n    getArrImg(arr) {\r\n      if (!arr) {\r\n        return [];\r\n      }\r\n      const arrImg = [];\r\n      arr.forEach(val => {\r\n        val.goodsPhoto = this.api.urlPic + val.goodsPhoto.split(',')[0];\r\n      });\r\n      return arr;\r\n    },\r\n    // 切换tab\r\n    tabOrderStatus(item, index) {\r\n      console.log(item)\r\n      if (this.choseDex !== index) {\r\n        this.orderList = [];\r\n        this.choseDex = index;\r\n        this.clearData();\r\n        this.status = '['+item.status+']';\r\n        this.getOrdersList();\r\n      }\r\n    },\r\n    // 加载更多我的订单\r\n    loadMore() {\r\n      this.loading = true;\r\n      this.ordersPageNo += 1;\r\n      this.getOrdersList();\r\n      console.log(' 加载');\r\n    },\r\n    // 获取订单数据\r\n    getOrdersList(first) {\r\n      if(this.currentPage<=this.totalPage){\r\n         this.$axios\r\n        .post(this.api.payOrderList, \r\n        JSON.stringify({\r\n            status: JSON.parse(this.status),\r\n            page: this.currentPage,\r\n            limit: 80\r\n        }),\r\n         {\r\n          headers: {  \r\n            \"content-type\": \"application/json\",\r\n            \"Authorization\": this.token \r\n          }\r\n        })\r\n        .then(res => {\r\n          const resData = res.data;\r\n          if (resData.code !== 1) {\r\n            if (first) {\r\n              this.noOrders = true;\r\n            } else {\r\n              this.moreOrders = true;\r\n              this.loading = false;\r\n            }\r\n            return;\r\n          }\r\n          let objData = resData.content,\r\n            arrData = objData.list;\r\n\r\n          this.currentPage = objData.currPage+1;\r\n          this.totalPage = objData.totalPage;\r\n\r\n          if (arrData.length === 0) {\r\n            this.orderList = [];\r\n            this.noOrders = true;\r\n            this.loading = true;\r\n            return;\r\n          }\r\n          // 重组下数据，需要把里面的商品循环出来\r\n          arrData.forEach(val => {\r\n            let obj = {\r\n              date: val.addTime,\r\n              num: this.goodsCount(val.items),\r\n              status: this.getStatusTxt(val.status),\r\n              statusNum: val.status,\r\n              storeName: val.storeName,\r\n              storeId: val.storeId,\r\n              totalPrice: val.totalPrice,\r\n              deductedPrice: val.deductedPrice||null,\r\n              conList: this.getArrImg(val.items),\r\n              orderNo: val.orderNumberStr\r\n            };\r\n            // 如果是待评价，把待评价的子商品循环出来\r\n            /*if (this.choseDex == 40) {\r\n              val.orderDetails.forEach(vl => {\r\n                obj.arrGood.push({\r\n                  id: vl.productId,\r\n                  detailId: vl.id,\r\n                  name: vl.productName,\r\n                  img: vl.product.photoMainUrls[0],\r\n                  num: vl.productCount,\r\n                  price: vl.productSalePrice,\r\n                  weight: vl.product.weight,\r\n                  date: vl.createDate\r\n                });\r\n              });\r\n            }*/\r\n            this.orderList.push(obj);\r\n          });\r\n          if (pageCount <= this.ordersPageNo) {\r\n            this.loading = true;\r\n            this.moreOrders = false;\r\n          } else {\r\n            this.loading = false;\r\n            this.moreOrders = true;\r\n          }\r\n        })\r\n        .catch(res => {\r\n          if (first) {\r\n            this.noOrders = true;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    goodsCount(items){\r\n      let count = 0;\r\n      for( let i of items){\r\n        count += i.goodsCount;\r\n      }\r\n      return count\r\n    },\r\n    // 查看物流或是立即评价\r\n    pageToCenter(type, index, index2) {\r\n      index2 = index2?index2:0;\r\n      const orderList = this.orderList;\r\n      let objType = {};\r\n      switch (type) {\r\n        case \"exp\":\r\n          objType.tip = \"没有查询到物流信息\";\r\n          objType.key = \"expList\";\r\n          objType.url = \"/goods/ordercenter?from=orders&type=exp\";\r\n          break;\r\n        case \"eva\":\r\n          objType.tip = \"没有查询到可评价的商品\";\r\n          objType.key = \"evaList\";\r\n          objType.url = \"/goods/ordercenter?from=orders&type=eva\";\r\n          break;\r\n      }\r\n      // 判断跳转\r\n      if (orderList.length == 0) {\r\n        this.showTip(objType.tip);\r\n        return;\r\n      }\r\n      // 存到本地存储（转换成字符串）\r\n      orderList[index].conList = orderList[index].conList[index2];\r\n      sessionStorage.setItem(objType.key, JSON.stringify(orderList[index]));\r\n      console.log(JSON.parse(sessionStorage.getItem(objType.key)));\r\n      setTimeout(() => {\r\n        this.$router.push(objType.url);\r\n      }, 0);\r\n    },\r\n    // 确认收货\r\n    receiptOrder(orderNo, index) {\r\n      MessageBox({\r\n        title: \"收货提示\",\r\n        message: \"您确定收到货品了吗？\",\r\n        showCancelButton: true\r\n      }).then(action => {\r\n        if (action === \"confirm\") {\r\n          this.$axios\r\n            .get(this.api.receptGoods+orderNo,{\r\n              headers: { \"Authorization\": this.token }\r\n            })\r\n            .then(res => {\r\n              const resData = res.data;\r\n              if (resData.code !== 1) {\r\n                this.showTip(resData.message);\r\n                return;\r\n              }\r\n              this.showTip(\"确认收货成功！\", 2000, \"ok\");\r\n              this.orderList.splice(index, 1);\r\n              // 最后一个的话，重刷一遍\r\n              if (this.orderList.length === 0) {\r\n                this.ordersPageNo += 1;\r\n                this.getOrdersList();\r\n              }\r\n            })\r\n            .catch(res => {\r\n              this.showTip(\"确认收货失败，请稍后重试\");\r\n            });\r\n        }\r\n      });\r\n    },\r\n    // 取消订单\r\n    cancelOrder(orderNumber, index) {\r\n      console.log(orderNumber);\r\n      MessageBox({\r\n        title: \"取消提示\",\r\n        message: \"您确定要取消此订单吗？\",\r\n        showCancelButton: true\r\n      }).then(action => {\r\n        if (action === \"confirm\") {\r\n          this.$axios\r\n            .get(this.api.cancelOrder+orderNumber, {\r\n              headers: { \"Authorization\": this.token }\r\n            })\r\n            .then(res => {\r\n              const resData = res.data;\r\n              if (resData.code !== 1) {\r\n                this.showTip(\"取消失败，请稍后重试\");\r\n                return;\r\n              }\r\n              this.showTip(\"取消订单成功\");\r\n              this.orderList.splice(index, 1);\r\n              // 最后一个的话，重刷一遍\r\n              if (this.orderList.length === 0) {\r\n                this.ordersPageNo += 1;\r\n                this.getOrdersList();\r\n              }\r\n            })\r\n            .catch(res => {\r\n              this.showTip(\"取消失败，请稍后重试\");\r\n            });\r\n        }\r\n      });\r\n    },\r\n    // 继续支付订单\r\n    onPayOrder(orderNo, index) {\r\n      // 调取支付接口，获取订单所需五个字段\r\n      const loading = Toast({\r\n        message: \"支付中...\",\r\n        iconClass: \"loading\",\r\n        duration: 30000\r\n      });\r\n      this.$axios\r\n        .post(\r\n          this.api.payOrder,\r\n          JSON.stringify({\r\n           'channel': 2,\r\n           'orderNumbers': orderNo,\r\n           'payType': 'wxpublicpay'\r\n          }),\r\n          {\r\n            headers: {\r\n              \"content-type\": \"application/json\",\r\n              \"Authorization\": this.token\r\n            }\r\n          }\r\n        )\r\n        .then(res => {\r\n          loading.close();\r\n          const resData = res.data;\r\n          if (resData.code !== 1) {\r\n            this.showTip(\"支付失败，请稍后重试\");\r\n            return;\r\n          }\r\n          // 返回数据成功后，拿到参数唤起微信支付\r\n          const objData = resData.content;\r\n          const weiXinArg = {\r\n            appId: objData.appid,\r\n            timeStamp: objData.timestamp,\r\n            nonceStr: objData.nonceStr,\r\n            package: objData.packages,\r\n            signType: \"MD5\",\r\n            paySign: objData.paySign\r\n          };\r\n          this.weiXinPay(weiXinArg);\r\n        })\r\n        .catch(res => {\r\n          loading.close();\r\n          this.showTip(\"支付失败，请稍后重试\");\r\n        });\r\n    },\r\n    // 唤起微信支付\r\n    weiXinPay(weiXinArg) {\r\n      let vue = this;\r\n      // 支付函数先声明\r\n      function onBridgeReady() {\r\n        WeixinJSBridge.invoke(\"getBrandWCPayRequest\", weiXinArg, res => {\r\n          if (res.err_msg == \"get_brand_wcpay_request:ok\") {\r\n            // 支付成功时\r\n            vue.showTip(\"支付成功\", 2000, \"ok\");\r\n            vue.orderList.splice(index, 1);\r\n            // 最后一个的话，重刷一遍\r\n            if (vue.orderList.length === 0) {\r\n              vue.ordersPageNo += 1;\r\n              vue.getOrdersList();\r\n            }\r\n          } else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {\r\n            // 取消支付时\r\n            vue.showTip(\"您已取消支付\");\r\n          } else {\r\n            // 支付失败时\r\n            vue.showTip(\"支付失败，请重试\");\r\n          }\r\n        });\r\n      }\r\n      // 判断无误后开始支付\r\n      if (typeof WeixinJSBridge == \"undefined\") {\r\n        if (document.addEventListener) {\r\n          document.addEventListener(\r\n            \"WeixinJSBridgeReady\",\r\n            onBridgeReady,\r\n            false\r\n          );\r\n        } else if (document.attachEvent) {\r\n          document.attachEvent(\"WeixinJSBridgeReady\", onBridgeReady);\r\n          document.attachEvent(\"onWeixinJSBridgeReady\", onBridgeReady);\r\n        }\r\n      } else {\r\n        onBridgeReady();\r\n      }\r\n    },\r\n    // 点击跳转订单详情\r\n    pageToPay(payPrice, orderNo, status) {\r\n      // 点得不是未付款的话，全都显示已付款\r\n      if (status === 10) {\r\n        let url = \"/goods/pay?orderNumbers=\" + orderNo + \"&payPrice=\" + payPrice;\r\n        this.$router.push(url);\r\n      }else{\r\n        vue.showTip(\"跳转商品详情\");\r\n      }\r\n    },\r\n    // 退款\r\n    refundOrder(orderId) {\r\n      MessageBox({\r\n        title: \"退款提示\",\r\n        message: \"目前还不支持退款，您可以拨打客服电话进行相关操作！\",\r\n        showCancelButton: true\r\n      }).then(action => {\r\n        if (action === \"confirm\") {\r\n          this.callService();\r\n        }\r\n      });\r\n    },\r\n    // 申请售后\r\n    callHelp() {\r\n      this.callService();\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/goods/orders.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper page-orders\"},[_c('vHeader',{attrs:{\"title\":\"我的订单\"}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-nav\"},_vm._l((_vm.orderNav),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:{active:index == _vm.choseDex},on:{\"click\":function($event){_vm.tabOrderStatus(item, index)}}},[_vm._v(\"\\n      \"+_vm._s(item.title)+\"\\n    \")])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"tab-con\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"100\"}},[_vm._l((_vm.orderList),function(item,index){return _c('div',{key:index,staticClass:\"order-item\"},[_c('div',{staticClass:\"goods-status vux-1px-b\"},[_c('div',{staticClass:\"date\"},[_c('i',{staticClass:\"ico i-store\"}),_vm._v(_vm._s(item.storeName)+\"\\n        \")]),_vm._v(\" \"),(item.statusNum==10)?_c('span',{staticClass:\"status\",on:{\"click\":function($event){_vm.cancelOrder(item.orderNo, index)}}},[_vm._m(0,true)]):_vm._e()]),_vm._v(\" \"),_vm._l((item.conList),function(con,index2){return _c('div',{staticClass:\"goods-list relative item pda15 justify-content-space-between\",on:{\"click\":function($event){_vm.pageToDtail(item.orderNo,item.statusNum)}}},[_c('div',{staticClass:\"conPic\"},[_c('img',{attrs:{\"src\":con.goodsPhoto}})]),_vm._v(\" \"),_c('div',{staticClass:\"flexg2 listRight\"},[_c('p',{staticClass:\"goodsName txt-black-real\",domProps:{\"textContent\":_vm._s(con.goodsName)}}),_vm._v(\" \"),_c('div',{staticClass:\"rightBtm\"},[_c('div',{staticClass:\"txt-black1 flexBox  justify-content-space-between\"},[_c('p',{staticClass:\"per50\"},[_c('i',{domProps:{\"textContent\":_vm._s('实付：¥'+con.totalPrice)}}),(item.conList.length>1&&(item.statusNum==40||item.statusNum==50))?_c('i',{staticClass:\"ml5 txt-gray1\",domProps:{\"textContent\":_vm._s('数量：'+con.goodsCount)}}):_vm._e()]),_vm._v(\" \"),(item.conList.length==1||(item.statusNum!=40&item.statusNum!=50))?_c('p',{staticClass:\"per50 txt-right\",attrs:{\"name\":item.statusNum},domProps:{\"textContent\":_vm._s('数量：'+con.goodsCount)}}):_c('div',{},[(!con.isComment)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){$event.stopPropagation();_vm.pageToCenter('eva',index,index2)}}},[_vm._v(\"立即评价\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==50||con.isComment)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){$event.stopPropagation();_vm.callHelp(item.orderNo)}}},[_vm._v(\"申请售后\")]):_vm._e()])])])])])}),_vm._v(\" \"),_c('div',{staticClass:\"goods-info\"},[_c('span',[_vm._v(\"下单时间：\"+_vm._s(item.date))]),_vm._v(\" \"),_c('div',{staticClass:\"price-info\"},[_vm._v(\"\\n          共\"+_vm._s(item.num)+\"件商品\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"goods-action\"},[_c('div',[_vm._v(\"合计：\"),_c('span',{staticClass:\"price txt-orange\"},[_vm._v(\"￥\"+_vm._s(item.totalPrice))]),(item.deductedPrice)?_c('span',{staticClass:\"txt-gray\"},[_vm._v(\"(\"+_vm._s('抵扣积分'+item.deductedPrice)+\")\")]):_vm._e()]),_vm._v(\" \"),_c('div',[(item.statusNum==10)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.pageToPay(item.totalPrice, item.orderNo, item.statusNum)}}},[_vm._v(\"继续支付\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==20)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.refundOrder(item.orderNo)}}},[_vm._v(\"退款\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==30)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.receiptOrder(item.orderNo, index)}}},[_vm._v(\"确认收货\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==30)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.pageToCenter('exp',index)}}},[_vm._v(\"查看物流\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==40&&item.conList.length==1)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.pageToCenter('eva',index)}}},[_vm._v(\"立即评价\")]):_vm._e(),_vm._v(\" \"),(item.statusNum==50&&item.conList.length==1)?_c('button',{staticClass:\"btn-act\",on:{\"click\":function($event){_vm.callHelp(item.orderNo)}}},[_vm._v(\"申请售后\")]):_vm._e()])])],2)}),_vm._v(\" \"),(_vm.noOrders)?_c('v-nodata',{attrs:{\"bgcolor\":\"grey\",\"text\":\"- 暂无相关订单 -\"}}):_vm._e()],2),_vm._v(\" \"),_c('v-footer',{attrs:{\"active\":\"orders\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"act\"},[_c('i',{staticClass:\"ico i-del2\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-50d62574\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/goods/orders.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50d62574\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":50}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orders.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orders.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orders.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50d62574\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orders.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/goods/orders.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}