webpackJsonp([7],{"0Fa0":function(e,t){},"5P3p":function(e,t){},ZN20:function(e,t){},z3QY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("3cXf"),n=i.n(a),s=i("4YfN"),o=i.n(s),l=i("9rMa"),c=(i("wSez"),i("CKVb")),r=i("hRKE"),u=i.n(r),h=i("gpPJ"),d=i("cTn1"),p={mixins:[i("ONqH").a],props:{required:{type:Boolean,default:!1}},created:function(){this.handleChangeEvent=!1},computed:{dirty:{get:function(){return!this.pristine},set:function(e){this.pristine=!e}},invalid:function(){return!this.valid}},methods:{setTouched:function(){this.touched=!0}},watch:{value:function(e){!0===this.pristine&&(this.pristine=!1),this.handleChangeEvent||(this.$emit("on-change",e),this.$emit("input",e))}},data:function(){return{errors:{},pristine:!0,touched:!1}}},f=function(e){return"object"===(void 0===e?"undefined":u()(e))?e.value:e},v=function(e){return"object"===(void 0===e?"undefined":u()(e))?e.key:e},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(!e.length)return t;if("string"==typeof e[0])return t;var i=e.filter(function(e){return e.key===t});return i.length?i[0].value||i[0].label:t},g=function(){return{options:{type:Array,required:!0},value:[String,Number],fillMode:{type:Boolean,default:!1},fillPlaceholder:{type:String,default:"其他"},fillLabel:{type:String,default:"其他"},disabled:Boolean,selectedLabelStyle:Object}};g();var _={name:"radio",mixins:[p],filters:{getValue:f,getKey:v},props:g(),created:function(){this.handleChangeEvent=!0},methods:{getValue:f,getKey:v,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=function(e,t){var i=e.length;for(;i--;)if(e[i]===t)return!0;return!1}(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,m(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}};var b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,a){return i("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+a}},[i("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[i("p",[i("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),i("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)&&e.selectedLabelStyle||""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:a,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+a},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(i){e.currentValue=e.getKey(t)}}}),e._v(" "),i("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[i("i",{staticClass:"weui-icon-warn"})])])],2)},staticRenderFns:[]};var w=i("C7Lr")(_,b,!1,function(e){i("0Fa0")},null,null).exports,x=i("Dvzy"),k=i("Jp5S"),V=i("qZvt"),y=i.n(V),C=Object(x.a)();delete C.value;d.a,h.a,k.a,o()({placeholder:String,readonly:Boolean},C,g());var N=Object(x.a)();delete N.value;var P={name:"popup-radio",components:{Popup:d.a,Radio:w,Cell:h.a},directives:{TransferDom:k.a},props:o()({placeholder:String,readonly:Boolean},N,g()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===u()(this.options[0])){var t=y()(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cell",{attrs:{title:e.title,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign,"border-intent":e.borderIntent},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.displayValue?i("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayValue))]):e._e(),e._v(" "),i("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),i("radio",{attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[i("p",[i("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),i("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],2)],1)])},staticRenderFns:[]};var F=i("C7Lr")(P,$,!1,function(e){i("5P3p")},null,null).exports,j=i("kEOb"),O=i("UzLt"),T=i("Wf59"),S=(j.a,O.a,c.a,T.a,o()({},Object(l.c)(["token"])),o()({},Object(l.b)(["atnToken"]),{getUserData:function(){var e=this;this.$axios.get(this.api.getUserData,{headers:{Authorization:this.token}}).then(function(t){var i=t.data;if(1===i.code){var a=i.content;e.age=a.age,e.email=a.email||"",e.license=a.headPhoto,e.nickName=a.nickName,e.sex=a.sex}else 403!==i.code&&e.showTip(i.msg)}).catch(function(e){console.log(e)})},imageAction:function(e){this.imgList.splice(e,1),this.arrImgId.splice(e,1)},chooseImage:function(e){console.log(e),1==e.code&&(this.license=this.api.urlPic+e.content[0].path+"/"+e.content[0].name)},infoUpdate:function(){var e=this;console.log(this.age,this.email,this.license,this.nickName,this.sex),this.$axios.post(this.api.infoUpdate,n()({age:this.age,email:this.email,headPhoto:this.license,nickName:this.nickName,sex:this.sex}),{headers:{Authorization:this.token,"content-type":"application/json"}}).then(function(t){1===t.data.code?(e.showTip("提交成功",1500,"ok"),setTimeout(function(){e.$router.go(-1)},1500)):e.showTip("提交信息失败")}).catch(function(e){})}}),{data:function(){return{license:"",nickName:"",headPhoto:"",age:"",email:"",sex:"男",options1:["男","女"]}},components:{"v-cell":j.a,vHeader:O.a,Group:c.a,PopupRadio:F,"vue-core-image-upload":T.a},computed:o()({},Object(l.c)(["token"])),created:function(){this.getUserData()},methods:o()({},Object(l.b)(["atnToken"]),{getUserData:function(){var e=this;this.$axios.get(this.api.getUserData,{headers:{Authorization:this.token}}).then(function(t){var i=t.data;if(1===i.code){var a=i.content;e.age=a.age,e.email=a.email||"",e.license=a.headPhoto,e.nickName=a.nickName,e.sex=a.sex}else 403!==i.code&&e.showTip(i.msg)}).catch(function(e){console.log(e)})},imageAction:function(e){this.imgList.splice(e,1),this.arrImgId.splice(e,1)},chooseImage:function(e){console.log(e),1==e.code&&(this.license=this.api.urlPic+e.content[0].path+"/"+e.content[0].name)},infoUpdate:function(){var e=this;console.log(this.age,this.email,this.license,this.nickName,this.sex),this.$axios.post(this.api.infoUpdate,n()({age:this.age,email:this.email,headPhoto:this.license,nickName:this.nickName,sex:this.sex}),{headers:{Authorization:this.token,"content-type":"application/json"}}).then(function(t){1===t.data.code?(e.showTip("提交成功",1500,"ok"),setTimeout(function(){e.$router.go(-1)},1500)):e.showTip("提交信息失败")}).catch(function(e){})}})}),U={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper updateInfo"},[i("vHeader",{attrs:{title:"修改信息",to:"/mine/set"}}),e._v(" "),i("div",{staticClass:"mt50"},[i("vue-core-image-upload",{staticClass:"up-load",attrs:{crop:!1,text:"",inputAccept:"image/*",credentials:!1,"max-file-size":10485760,multiple:!1,inputOfFile:"Filedata",url:this.api.uploadPhoto},on:{imageuploaded:e.chooseImage}},[e.license?i("img",{attrs:{width:"150",src:e.license}}):e._e()]),e._v(" "),i("v-cell",{staticClass:"share",attrs:{title:"头像",type:"btn"}}),e._v(" "),i("mt-field",{attrs:{label:"昵称",placeholder:"请输入昵称"},model:{value:e.nickName,callback:function(t){e.nickName=t},expression:"nickName"}}),e._v(" "),i("mt-field",{attrs:{label:"年龄",placeholder:"请输入年龄"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}}),e._v(" "),i("group",[i("popup-radio",{attrs:{title:"性别",options:e.options1},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}})],1),e._v(" "),i("mt-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱地址",type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),i("div",{staticClass:"loginOutBtn"},[i("button",{staticClass:"btn-submit mt50 full-screen",on:{click:e.infoUpdate}},[e._v("提交")])])],1)],1)},staticRenderFns:[]};var L=i("C7Lr")(S,U,!1,function(e){i("ZN20")},null,null);t.default=L.exports}});
//# sourceMappingURL=7.85e5de6c00ef692f53bd.js.map