webpackJsonp([39],{"6yMX":function(t,s){},bFkK:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("IHPB"),l=a.n(e),o=a("Gsn1"),u=a("XzeJ"),i=a("5CvF"),n=a("4rfY"),r=a("NH3f"),c=(a("wSez"),a("6iV/"),r.a,o.a,u.a,i.a,n.a,a("6iV/")),p={data:function(){return{urlPic:this.api.urlPic,totalPage:1,currentPage:0,listData:[],isLevelPackage:this.getUrlParam("isLevelPackage")||1,pullupEnabled:!0,loadMoreVal:!0,status:{pullupStatus:"default",pulldownStatus:"default"}}},components:{"v-footer":r.a,Scroller:o.a,Spinner:u.a,Flexbox:i.a,FlexboxItem:n.a},beforeCreate:function(){document.title="新银众商"},created:function(){this.loadMore()},methods:{loadMore:function(t){var s=this;this.loadMoreVal&&(this.loadMoreVal=!1,setTimeout(function(){s.loadMoreVal=!0},1e3),1==t?(this.currentPage=0,this.totalPage=1,this.listData=[],this.currentPage<this.totalPage?(this.currentPage=parseInt(this.currentPage)+1,this.$axios.post(this.api.getGoodsList,c.parse({page:this.currentPage,limit:8,isLevelPackage:this.isLevelPackage}),{headers:{"content-type":"application/json"}}).then(function(t){console.log(t.data),s.totalPage=t.data.content.totalPage,s.listData=[].concat(l()(s.listData),l()(t.data.content.list)),console.log(s.listData)}).catch(function(t){})):(this.status.pullupStatus="complete",setTimeout(function(){s.status.pullupStatus="default"},1e3),console.log("已加载完")),setTimeout(function(){s.$refs.scroller.donePullup()},10)):(this.currentPage<this.totalPage?(this.currentPage=parseInt(this.currentPage)+1,this.$axios.post(this.api.getGoodsList,c.parse({page:this.currentPage,limit:8,isLevelPackage:this.isLevelPackage}),{headers:{"content-type":"application/json"}}).then(function(t){console.log(t.data),s.totalPage=t.data.content.totalPage,s.listData=[].concat(l()(s.listData),l()(t.data.content.list)),console.log(s.listData)}).catch(function(t){})):(this.status.pullupStatus="complete",setTimeout(function(){s.status.pullupStatus="default"},1e3),console.log("已加载完")),setTimeout(function(){s.$refs.scroller.donePullup()},10)))},refresh:function(){var t=this;console.log("刷新"),this.$nextTick(function(){setTimeout(function(){t.$refs.scroller.donePulldown(),t.pullupEnabled&&t.$refs.scroller.enablePullup()},10)})},toDetail:function(t){console.log(21),this.$router.push({path:"/goods",query:{id:t,vGoods:"1"}})}}},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"wrapper page-index",attrs:{id:"vGoods"}},[a("mt-header",{staticClass:"txt-black bg-white",attrs:{fixed:"",title:"小V专区"}}),t._v(" "),a("div",{staticClass:"white vGoods"},[a("scroller",{ref:"scroller",attrs:{"lock-x":"","scrollbar-y":!1,height:"-60","use-pullup":"","use-pulldown":""},on:{"on-scroll-bottom":t.loadMore,"on-pulldown-loading":t.refresh,"on-pullup-loading":t.loadMore},model:{value:t.status,callback:function(s){t.status=s},expression:"status"}},[a("div",{staticClass:"box2"},[a("flexbox",{attrs:{gutter:0,wrap:"wrap"}},t._l(t.listData,function(s,e){return a("flexbox-item",{key:e,attrs:{span:.5}},[a("div",{staticClass:"mgt10 vuxItem",on:{click:function(a){t.toDetail(s.id)}}},[a("p",{staticClass:"boxPic"},[a("img",{attrs:{src:t.urlPic+s.goodsMainPhoto.split(",")[0]}})]),t._v(" "),a("p",{staticClass:"vGoodsName fs-12",domProps:{textContent:t._s(s.goodsName)}}),t._v(" "),a("p",[a("b",{staticClass:"fs-15 txt-orange rt5",domProps:{textContent:t._s("¥"+s.salePrice)}})]),t._v(" "),a("p",[a("i",{staticClass:"txt-gray",domProps:{textContent:t._s("销量"+s.saleCount)}})])])])}),1)],1),t._v(" "),a("div",{staticClass:"xs-plugin-pullup-container xs-plugin-pullup-up",staticStyle:{position:"absolute",width:"100%",height:"40px",bottom:"-40px","text-align":"center"},attrs:{slot:"pullup"},slot:"pullup"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"default"===t.status.pullupStatus,expression:"status.pullupStatus === 'default'"}]}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"down"===t.status.pullupStatus||"up"===t.status.pullupStatus,expression:"status.pullupStatus === 'down' || status.pullupStatus === 'up'"}],staticClass:"pullup-arrow",class:{rotate:"up"===t.status.pullupStatus}},[t._v("↑")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status.pullupStatus,expression:"status.pullupStatus === 'loading'"}]},[a("spinner",{attrs:{type:"ios-small"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"complete"===t.status.pullupStatus,expression:"status.pullupStatus === 'complete'"}]},[t._v("已加载完成")])])])],1),t._v(" "),a("v-footer",{attrs:{active:"vGoods"}})],1)},staticRenderFns:[]};var h=a("C7Lr")(p,d,!1,function(t){a("6yMX")},null,null);s.default=h.exports}});
//# sourceMappingURL=39.707b436f063c6a1eadbf.js.map