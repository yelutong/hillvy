<!doctype html>
<html> 
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
<META HTTP-EQUIV="Expires" CONTENT="0">
<meta http-equiv="Cache" content="no-cache">
<title>明昌生态</title>
<style>
*{    
  box-sizing: border-box;
}
.auto-menu-box .menu-list {
    padding: 0 5px;
}

.menu-list {
    width: 100%;
    overflow: hidden;
}
div[class^="iconlg-wallet-"], div[class^="iconlg-activity-"] {
    background: url(sf_wallet.png) no-repeat;
    background-size: 288px 288px;
    margin: 0 auto;
}
div[class^="iconlg-"] {
    width: 36px;
    height: 36px;
}
.menu-list .menu-item {
    height: 90px;
    padding: 4px!important;
}

.menu-list .menu-item {
    position: relative;
    float: left;
    width: 25%;
    padding: 20px 0;
    text-align: center;
}
.menu-item-bd {
    background-color: #f6f6f6;
    padding: 10px 0;
}
/*顺手富钱包*/

div.iconlg-wallet-scanQrcode {
    background-position: 0 0;
}

div.iconlg-wallet-gathering {
    background-position: -36px 0;
}

div.iconlg-wallet-payQrCode {
    background-position: -72px 0;
}

div.iconlg-wallet-assetsTransfer {
    background-position: -108px 0;
}

div.iconlg-wallet-balanceBao {
    background-position: -72px -216px;
}

div.iconlg-wallet-showExpress {
    background-position: 0 -36px;
}

div.iconlg-wallet-ellipsis {
    background-position: -144px -180px;
}

div.iconlg-wallet-MSFBest {
    background-position: -36px -36px;
}

div.iconlg-wallet-redPacket {
    background-position: -72px -36px;
}

div.iconlg-wallet-sfCoin {
    background-position: -108px -36px;
}

div.iconlg-wallet-mealCardFeature {
    background-position: 0 -72px;
}

div.iconlg-wallet-handlerDoingSFDebit {
    background-position: -36px -72px;
}

div.iconlg-wallet-MCreditRefund {
    background-position: -72px -72px;
}

div.iconlg-wallet-MPhoneRecharge {
    background-position: -108px -72px;
}

div.iconlg-wallet-MMaintenance {
    background-position: 0 -108px;
}

div.iconlg-wallet-MCinemaTicket {
    background-position: -36px -108px;
}

div.iconlg-wallet-DeductProxy {
    background-position: -72px -108px;
}

div.iconlg-wallet-more {
    background-position: -108px -108px;
}

div.iconlg-wallet-packge {
    background-position: 0 -144px;
}

div.iconlg-wallet-card {
    background-position: -36px -144px;
}

div.iconlg-wallet-stock {
    background-position: -72px -144px;
}

div.iconlg-wallet-lottery {
    background-position: -108px -144px;
}

div.iconlg-wallet-financial {
    background-position: 0 -180px;
}

div.iconlg-wallet-lottery-grey {
    background-position: -36px -180px;
}

div.iconlg-wallet-MSFBest-grey {
    background-position: -72px -180px;
}

div.iconlg-wallet-MPhoneRecharge-grey {
    background-position: -108px -180px;
}

div.iconlg-activity-lottery {
    background-position: 0 -216px;
}

div.iconlg-activity-prize {
    background-position: -36px -216px;
}

div.iconlg-wallet-white-scan {
    background-position: -108px -216px;
}

div.iconlg-wallet-service {
    background-position: 0 -252px;
}

div.iconlg-wallet-gathering-color {
    background-position: -36px -252px;
}

div.iconlg-wallet-payQrCode-color {
    background-position: -72px -252px;
}

div.iconlg-wallet-cod {
    background-position: -108px -252px
}

div.iconlg-wallet-syt {
    background-position: -144px 0;
}

div.iconlg-wallet-scanQrcodeColor {
    background-position: -144px -36px;
}

div.iconlg-wallet-assetsTransferColor {
    background-position: -144px -72px;
}

div.iconlg-wallet-moreColor {
    background-position: -144px -108px;
}

div.iconlg-wallet-ease {
    background-position: -144px -144px;
}


.menu-list.active .icon-32 {
    display: block;
}

.icon-32 {
    position: absolute;
    right: 10px;
    top: 10px;
    display: none;
    transition: all .3s ease;
}
.icon-32-delete {
    background-position: 0 0!important;
}
.icon-32-add {
    background-position: -16px 0!important;
}
.icon-32 {
    display: inline-block;
    width: 16px;
    height: 16px;
    background: url(icon_32x32.png) no-repeat 0 0;
    background-size: 200px 200px;
}

</style>
</head>

<body>
<div id="app">
 <div class="c-menu-box">
   <div class="c-menu-title">
    我的应用
    <span>（按住拖动调整排序）</span>
   </div>
   
    <div class="menu-list new-icon-wrap">
        <div id="dragableMenu" class="sortable-container">
            <div class="menu-item" v-for="(icon,index) in userMenuList" sv-element @click="deleteMenu(index,icon)">
                <div class="menu-item-bd">
                    <div class="icon-32 icon-32-delete" ></div>
                    <div v-bind:class="icon.iconClassName"></div>
                    <span>{{icon.textName}}</span>
                </div>
                
            </div>
        </div>
        <div class="menu-item dash-box" >
            <div class="menu-item-bd">
            </div>
            
        </div>
    </div>
</div>


<div class="auto-menu-box"> 
  所有应用
  <div class="menu-list"> 
      <div class="menu-item" v-for="icon in iconOptions" v-on:click="menuOperate(icon)" >
          <div class="menu-item-bd">
            <div class="icon-32" v-bind:class="{'icon-32-delete' : icon.showDeleteIcon, 'icon-32-add' : icon.showAddIcon}"></div>
            <div v-bind:class="icon.iconClassName"></div>
            <span>{{icon.textName}}</span>
          </div>
      </div> 
  </div>
</div>

</div>   
</body>

</html>
<script type="text/javascript" src="vue.min.js"></script>
<script>
  var vm = new Vue({
    el: '#app',
    data: {
      userMenuList : [],
      defaultMenuList : [
            { iconName: 'showExpress', iconClassName: 'iconlg-wallet-showExpress', iconAppKey : 'ShowExpress', dcId:'dc-homeExpress', textName : '快递服务',showDeleteIcon:true},
            { iconName: 'cod', iconClassName: 'iconlg-wallet-cod', iconAppKey : 'COD', dcId:'dc-homeCod', textName : '便捷代收',showAddIcon:true},
            { iconName: 'syt', iconClassName: 'iconlg-wallet-syt', iconAppKey : 'PrepaidCard', dcId:'dc-homeSYT', textName : '速运通卡',showDiscountFlag : true},
            { iconName: 'scanQrcodeColor', iconClassName: 'iconlg-wallet-scanQrcodeColor', iconAppKey : 'ScanQrcode', dcId:'dc-homeScan', textName : '扫一扫'},
            { iconName: 'lottery', iconClassName: 'iconlg-wallet-lottery', iconAppKey : 'Lottery', dcId:'dc-homeLottery', textName : '彩票'},
            { iconName: 'ease', iconClassName: 'iconlg-wallet-ease', iconAppKey : 'MonthlyBalance', dcId:'dc-homeMonthlyBalance', textName : '安心寄',showNewFlag : true},
            { iconName: 'assetsTransferColor', iconClassName: 'iconlg-wallet-assetsTransferColor', iconAppKey : 'AssetsTransfer', dcId:'dc-homeTransferAssets', textName : '转账'}
        ],
        iconOptions : [
            { iconName: 'showExpress', iconClassName: 'iconlg-wallet-showExpress', iconAppKey : 'ShowExpress', dcId:'dc-homeExpress', textName : '快递服务', showDeleteIcon :true},
            { iconName: 'cod', iconClassName: 'iconlg-wallet-cod', iconAppKey : 'COD', dcId:'dc-homeCod', textName : '便捷代收',showDeleteIcon :true},
            { iconName: 'syt', iconClassName: 'iconlg-wallet-syt', iconAppKey : 'PrepaidCard', dcId:'dc-homeSYT', textName : '速运通卡',showDeleteIcon :true},
            { iconName: 'scanQrcodeColor', iconClassName: 'iconlg-wallet-scanQrcodeColor', iconAppKey : 'ScanQrcode', dcId:'dc-homeScan', textName : '扫一扫',showDeleteIcon :true},
          { iconName: 'lottery', iconClassName: 'iconlg-wallet-lottery', iconAppKey : 'Lottery', dcId:'dc-homeLottery', textName : '彩票',showDeleteIcon :true},
          { iconName: 'MPhoneRecharge', iconClassName: 'iconlg-wallet-MPhoneRecharge', iconAppKey : 'PhoneRecharge', dcId:'dc-homePhoneRecharge', textName : '手机充值',showAddIcon :true},
          { iconName: 'assetsTransferColor', iconClassName: 'iconlg-wallet-assetsTransferColor', iconAppKey : 'AssetsTransfer', dcId:'dc-homeTransferAssets', textName : '转账',showDeleteIcon :true},
          { iconName: 'MSFBest-grey', iconClassName: 'iconlg-wallet-MSFBest-grey', iconAppKey : 'SFBest', dcId:'dc-homeSFBest', textName : '顺丰优选',showAddIcon :true},
          { iconName: 'payQrCode-color', iconClassName: 'iconlg-wallet-payQrCode-color', iconAppKey : 'PayQrCode', dcId:'dc-homePayQrCode', textName : '付款',showAddIcon :true},
          { iconName: 'gathering-color', iconClassName: 'iconlg-wallet-gathering-color', iconAppKey : 'Gathering', dcId:'dc-homeGathering', textName : '收款',showAddIcon :true},
          { iconName: 'MMaintenance', iconClassName: 'iconlg-wallet-MMaintenance', iconAppKey : 'Maintenance', dcId:'dc-homeMaintenance', textName : '分期购机',showAddIcon :true},
          { iconName: 'redPacket', iconClassName: 'iconlg-wallet-redPacket', iconAppKey : 'RedPacket', dcId:'dc-homeRedPacket', textName : '红包',showAddIcon :true},
          { iconName: 'MCreditRefund', iconClassName: 'iconlg-wallet-MCreditRefund', iconAppKey : 'CreditRefund', dcId:'dc-homeCreditRefund', textName : '信用卡还款',showAddIcon :true},
          { iconName: 'ease', iconClassName: 'iconlg-wallet-ease', iconAppKey : 'MonthlyBalance', dcId:'dc-homeMonthlyBalance', textName : '安心寄',showDeleteIcon :true}
        ]
    },

    created: function() {
       this.userMenuList = this.defaultMenuList
    },
    mounted: function() { //生命期钩子 
     console.log(this.userMenuList)
    },
    methods: { 
  menuOperate: function(icon){
            if(!icon){
                return;
            }
            console.log(icon.dcId);
            // 设置菜单
            if(icon.showDeleteIcon){
                icon.showDeleteIcon = false;
                icon.showAddIcon = true;
                for(var i=0;i<this.userMenuList.length;i++){
                 if(icon.dcId == this.userMenuList[i].dcId){
                  this.userMenuList.splice(i,1);
                 }
                }
            } else if(icon.showAddIcon){
                if(this.userMenuList.length < 7){
                    icon.showDeleteIcon = true;
                    icon.showAddIcon = false;
                    this.userMenuList.push(icon)
                }else{
                  alert('最多只能选择7个哦')
                }
            }
        },
    // 删除菜单
    deleteMenu: function(index,icon){
        this.userMenuList.splice(index,1);
        for(var i=0;i<this.iconOptions.length;i++){
           if(icon.dcId == this.iconOptions[i].dcId){
            this.iconOptions[i].showDeleteIcon = false;
            this.iconOptions[i].showAddIcon = true;
           }
        }
      }  
    }
  })
  
</script>